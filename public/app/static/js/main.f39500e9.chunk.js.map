{"version":3,"sources":["app/message/handleSocketEvents.jsx","cache.jsx","classes/server/index.jsx","icons/plus.jsx","icons/bones.jsx","global/input.jsx","icons/settings.jsx","utils.js","app/animate.jsx","app/message/statusManager/index.jsx","classes/user/footer.jsx","classes/message/invite.jsx","icons/3dots.jsx","classes/message/delete-message.jsx","classes/message/menu.jsx","classes/message/attachment.jsx","classes/message/message.jsx","classes/message/messagesMapper.jsx","icons/hashtag.jsx","app/message/findConversation/index.jsx","app/message/sendMessage.jsx","app/message/home.jsx","classes/user/profile.jsx","classes/user/user.jsx","icons/crown.jsx","classes/user/member.jsx","classes/user/index.jsx","classes/message/index.jsx","classes/channel/channel.jsx","classes/channel/index.jsx","icons/members.jsx","icons/down.jsx","classes/server/invite-people.jsx","classes/server/server-editor.jsx","classes/channel/create-channel.jsx","global/createBlob.jsx","app/message/attachmentManager/index.jsx","app/message/message.jsx","icons/home.jsx","classes/server/addServer.jsx","global/imageCropper.jsx","global/editImage.jsx","global/isGif.jsx","classes/user/user-settings.jsx","app/message/index.jsx","app/signup/index.jsx","app/login/index.jsx","app/index.jsx","index.js"],"names":["handleSocketEvents","message","setMessages","msg","prev","memberOnline","setMembers","user","members","list","member","find","m","_id","online","memberUpdate","messages","forEach","author","updatedUser","Object","assign","messageEdit","indexOf","messageDelete","filter","PreviousQueries","channels","serverMembers","logs","at","type","key","fct","channelsIds","keys","length","Math","floor","random","init","socket","on","channel","this","clear","Server","server","id","me","width","height","icon","link","clicked","click","className","title","name","tabIndex","role","onClick","alt","src","displayIcon","style","a","fetch","headers","Authorization","token","then","res","json","catch","servers","isHome","index","map","s","i","toJSX","reverse","Plus","props","fill","size","version","x","y","viewBox","d","Skeleton","display","SkeletonLoadingMessage","Array","_","setSelection","containerEl","savedSel","charIndex","range","document","createRange","setStart","collapse","node","nodeStack","foundStart","stop","pop","nodeType","nextCharIndex","start","end","setEnd","childNodes","push","sel","window","getSelection","removeAllRanges","addRange","getScrollParent","overflowY","scrollHeight","clientHeight","parentNode","Input","renderId","placeholder","defaultValue","innerRef","onPaste","onKeyDown","divRef","useRef","add","el","text","savedSelection","newText","getRangeAt","preSelectionRange","cloneRange","selectNodeContents","startContainer","startOffset","pos","saveSelection","textContent","slice","scrollToBottom","element","firstScrollableParent","scrollTop","useEffect","input","current","lastChild","focus","ref","e","preventDefault","clipboardData","getData","target","onDrop","dataTransfer","code","innerHTML","ctrlKey","shiftKey","suppressContentEditableWarning","contentEditable","Gear","Utils","Out","children","getEvent","wrapperRef","handleClickOutside","event","contains","addEventListener","removeEventListener","useOutsideAlerter","isScolled","holder","body","getBoundingClientRect","top","bottom","holderRect","Animate","useState","animation","setAnimation","setView","useContext","ScreenContext","normal","setTimeout","quit","StatusManager","User","left","transformOrigin","customStatus","Footer","setShowSettings","displayAvatarURL","username","tag","Invite","invite","onJoin","state","setState","method","Dots","opacity","transform","MessageDelete","onCancel","full","delete","Menu","clickOut","edit","setTop","useLayoutEffect","viewportOffset","innerHeight","deleteE","audio","SpeechSynthesisUtterance","content","speechSynthesis","speak","navigator","clipboard","writeText","Attachment","bg","setBg","attachment","URL","onLoad","loading","calculateImage","displayAttachmentURL","Text","isBeingEdited","setIsBeingEdited","edited","maxHeight","k","unsent","failed","Date","updatedAt","toDateString","MessageJSX","setClicked","av","setAv","innerWidth","triggerEdit","ifEmptyDelete","dispatchEvent","KeyboardEvent","getTime","timestamp","listener","onMouseLeave","onMouseOver","marginTop","flags","hasDynamicAvatar","getHours","padStart","getMinutes","createdAt","innerText","trim","inviteCode","zIndex","Messages","mapped","Message","$","Fragment","Hashtag","MapLogs","l","log","borderRadius","MapChannels","c","Channel","MapServers","setServer","includes","FindConversation","clickUser","setFilter","onChange","value","createMessage","attachments","setAttachments","send","update","allMessages","ms","err","console","error","now","data","Map","users","u","received","Friends","friends","setFriends","isMounted","f","Add","setValue","setText","sendRequest","split","ok","color","autoComplete","maxLength","Pending","requests","setRequests","DM","dm","setLogs","isLoading","setIsLoading","sendMessage","useCallback","newOrder","splice","findIndex","off","Home","button","setButton","Dm","setDm","clickEvent","screen","setScreen","not","notifications","setNotifications","n","some","background","UserInfo","padding","boxSizing","localStorage","getItem","setItem","All","Profile","mutualServers","backgroundImage","profileColor","backgroundColor","UserJSX","editable","Update","seconds","setSeconds","setOnline","handleOnlineEvent","timer","setInterval","clearInterval","fakeEvent","data-text","owner","toFixed","Crown","enableBackground","xmlSpace","cx","cy","r","points","MemberJSX","isClicked","setIsClicked","right","animationName","dynamic","avatarURL","response","JSON","stringify","onlineLength","offlineLength","offline","sortedMembers","sort","b","localeCompare","Member","view","jsx","concat","date","minutes","getSeconds","getMilliseconds","toLocaleDateString","formatDate","query","trunc","match","ChannelJSX","components","emit","LoadChannels","MemberLoading","times","Down","stroke","strokeWidth","strokeLinecap","strokeLinejoin","InvitePeople","ids","setIds","copied","setCopied","toUpperCase","toLowerCase","invites","readOnly","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","img","Image","result","onerror","EditServer","setSrc","setName","handleFileChange","files","htmlFor","CreateChannel","settings","setSettings","waiting","setWaiting","selfAnimate","create","textAlign","fontSize","createBlob","base64str","contentType","byteCharacters","atob","byteNumbers","charCodeAt","byteArray","Uint8Array","Blob","Attachments","fileName","blob","url","createObjectURL","position","Main","setChannel","ch","fetchMembers","join","fetchMessages","messageListener","messageDeleteListener","editListener","memberUpdateListener","sendImage","getImageFromInput","getImageFromPaste","items","getAsFile","dropFile","stopPropagation","skeleton","setSkeleton","menu","setMenu","IP","leave","createNewChannel","serverSettings","onDragOver","marginBottom","toTitle","onSubmit","MapMembers","EmbedHomeButton","gradientUnits","x1","y1","x2","y2","offset","stopColor","onCreate","Creator","defaultName","image","setImage","handleChange","del","createServer","required","marginRight","marginLeft","ImageCropper","canvasRef","rangeRef","lastPoint","setSize","canvasSize","useMemo","coordinates","isDragging","calculator","canvas","maxSize","min","imgToSize","ctx","getContext","draw","factor","radius","limitX","limitY","minX","maxX","minY","maxY","clearRect","beginPath","drawImage","requestAnimationFrame","handleMouseUp","onMouseOut","onMouseUp","onMouseDown","onMouseMove","clientX","clientY","max","SubComponent","onComplete","cancel","setData","maxWidth","toDataURL","isGif","EditUsername","newName","setNewName","overflow","flexDirection","MyAccount","changes","email","UserProfile","setColor","fileInput","colorInput","handleInputChange","complete","oldUser","visibility","accept","Appearance","setTheme","currentTheme","setCurrentTheme","switchTo","theme","Render","componentId","UserSettings","setUser","setChanges","getButton","btn","createContext","io","transports","notificationSound","Audio","showSettings","saved","setServers","connect","notification","play","disconnect","handlenewServer","sv","toString","providerValue","Provider","LoadServers","iserver","Signup","shrink","setError","password","confirmPassword","sessionStorage","Login","expand","App","Initial","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f39500e9.chunk.js","sourcesContent":["const handleSocketEvents = {\r\n    message(setMessages, msg) {\r\n        setMessages(prev => [...prev, msg])\r\n    },\r\n    memberOnline(setMembers, user) {\r\n        setMembers(members => {\r\n            const list = [...members]\r\n            const member = list.find(m => m._id === user.user)\r\n            if (member) member.online = user.online\r\n            return list\r\n        })\r\n    },\r\n    memberUpdate(setMembers, setMessages, user) {\r\n        setMessages(prev => {\r\n            const messages = [...prev]\r\n            messages.forEach(m => {\r\n                if (`${user._id}` === m.author._id) {\r\n                    const updatedUser = Object.assign(m.author, user)\r\n                    m.author = updatedUser\r\n                }\r\n            })\r\n            return messages\r\n        })\r\n        setMembers(prev => {\r\n            const members = [...prev]\r\n            members.forEach(m => {\r\n                if (`${user._id}` === m._id) {\r\n                    const updatedUser = Object.assign(m, user)\r\n                    m = updatedUser\r\n                }\r\n            })\r\n            return members\r\n        })\r\n    },\r\n    messageEdit(setMessages, msg) {\r\n        setMessages(prev => {\r\n            const list = [...prev]\r\n            const message = list.find(m => m._id === msg._id)\r\n            list[list.indexOf(message)] = Object.assign(message, msg)\r\n            return list\r\n        })\r\n    },\r\n    messageDelete(setMessages, msg) {\r\n        setMessages(prev => [...prev].filter(m => m._id !== msg._id))\r\n    }\r\n}\r\n\r\nexport default handleSocketEvents","import { socket } from \"./app/message\"\r\nimport handleSocketEvents from \"./app/message/handleSocketEvents\"\r\n\r\nconst PreviousQueries = {\r\n    channels: {},\r\n    serverMembers: {},\r\n    logs: [],\r\n    at(type, key) {\r\n        return (fct) => {\r\n            const channelsIds = Object.keys(this.channels)\r\n            if (channelsIds.length > 9) {\r\n                delete this.channels[channelsIds[Math.floor(Math.random() * channelsIds.length)]]\r\n            }\r\n            if (typeof fct === \"function\") return this[type][key] = fct(this[type][key] || [])\r\n            this[type][key] = fct\r\n        }\r\n    },\r\n    init() {\r\n        socket.on(\"message\", msg => {\r\n            const setMessages = PreviousQueries.at(\"channels\", msg.channel)\r\n            handleSocketEvents.message(setMessages, msg)\r\n        })\r\n        socket.on(\"messageDelete\", msg => {\r\n            const setMessages = PreviousQueries.at(\"channels\", msg.channel)\r\n            handleSocketEvents.messageDelete(setMessages, msg)\r\n        })\r\n        socket.on(\"messageEdit\", msg => {\r\n            const setMessages = PreviousQueries.at(\"channels\", msg.channel)\r\n            handleSocketEvents.messageEdit(setMessages, msg)\r\n        })\r\n        socket.on(\"memberUpdate\", member => {\r\n            for (const key in this.channels) {\r\n                const setMessages = PreviousQueries.at(\"channels\", key)\r\n                handleSocketEvents.memberUpdate(() => {}, setMessages, member)\r\n            }\r\n            for (const key in this.serverMembers) {\r\n                const setMembers = PreviousQueries.at(\"serverMembers\", key)\r\n                handleSocketEvents.memberUpdate(setMembers, () => {}, member)\r\n            }\r\n        })\r\n        socket.on(\"disconnect\", this.clear)\r\n    },\r\n    clear() {\r\n        for (const channel in this.channels) {\r\n            delete this.channels[channel]\r\n        }\r\n    }\r\n}\r\n\r\nexport default PreviousQueries","import \"./index.css\"\r\nimport { link } from \"../../config.json\"\r\nimport PreviousQueries from \"../../cache\"\r\n\r\nclass Server {\r\n    constructor(server, user) {\r\n        for (const key in server) {\r\n            this[key] = server[key]\r\n        }\r\n        this.id = server._id\r\n        this.me = user\r\n    }\r\n    static LoadServers({ servers, click, isHome, me, index }) {\r\n        const jsx = servers.map((s, i) => {\r\n            const server = new Server(s, me)\r\n            return server.toJSX(index === i && !isHome, () => {\r\n                click(server)\r\n            })\r\n        })\r\n        return jsx.reverse()\r\n    }\r\n    displayIcon(width, height) {\r\n        if (!this.icon) return null\r\n        return `${link + this.icon}?${width ? `width=${width}&height=${height || width}` : \"\"}`\r\n    }\r\n    toJSX(clicked, click) {\r\n        return (\r\n            <div key={this.id} className={`server-block ${clicked && \"clicked\"}`}>\r\n                <div title={this.name} tabIndex=\"0\" role=\"button\" className=\"server\">\r\n                    {this.icon ?\r\n                        <img width=\"48\" height=\"48\" onClick={click} alt=\"icon\" src={this.displayIcon(100)} className=\"server-icon\" /> :\r\n                        <div onClick={click} style={{ width: 48, height: 48 }} className=\"server-icon default-no-img-div\">{this.name[0]}</div>\r\n                    }\r\n                </div>\r\n                <div className=\"server-marker\" />\r\n            </div>\r\n        )\r\n    }\r\n    async fetchMembers() {\r\n        if (PreviousQueries.serverMembers[this.id]) return PreviousQueries.serverMembers[this.id]\r\n        const members = await fetch(`${link}servers/${this.id}/members`, {\r\n            headers: { Authorization: this.me.token }\r\n        })\r\n            .then(res => res.json())\r\n            .catch(() => [])\r\n        const setMembers = PreviousQueries.at(\"serverMembers\", this.id)\r\n        setMembers(members)\r\n        return members\r\n    }\r\n}\r\n\r\nexport default Server","const Plus = (props) => {\r\n    return (\r\n        <svg {...props} fill=\"currentColor\" width={props.size} height={props.size} version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 60.364 60.364\">\r\n            <g>\r\n                <path d=\"M54.454,23.18l-18.609-0.002L35.844,5.91C35.845,2.646,33.198,0,29.934,0c-3.263,0-5.909,2.646-5.909,5.91v17.269\r\n\t\tL5.91,23.178C2.646,23.179,0,25.825,0,29.088c0.002,3.264,2.646,5.909,5.91,5.909h18.115v19.457c0,3.267,2.646,5.91,5.91,5.91\r\n\t\tc3.264,0,5.909-2.646,5.91-5.908V34.997h18.611c3.262,0,5.908-2.645,5.908-5.907C60.367,25.824,57.718,23.178,54.454,23.18z\"/>\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default Plus","const Skeleton = () => {\r\n    return (\r\n        <div className=\"skeleton\">\r\n            <div className=\"skeleton-pfp\"></div>\r\n            <div style={{ width: Math.floor(Math.random() * 100) + 100 }} className=\"skeleton-username\"></div>\r\n            <div>\r\n                <div style={{ width: \"calc(20% - 70px/4)\" }} className=\"skeleton-content-1 sl\"></div>\r\n                <div style={{ width: \"calc(30% - 70px/4)\" }} className=\"skeleton-content-2 sl\"></div>\r\n                <div style={{ width: \"calc(15% - 70px/4)\" }} className=\"skeleton-content-3 sl\"></div>\r\n                <div style={{ width: \"calc(25% - 70px/4)\" }} className=\"skeleton-content-4 sl\"></div>\r\n            </div>\r\n            {Math.random() < 0.3 &&\r\n                <div className=\"random-sl\">\r\n                    <div style={{ width: \"calc(25% - 70px/4)\", display: \"inline-block\" }} className=\"skeleton-content-1 sl\"></div>\r\n                    <div style={{ width: \"calc(20% - 70px/4)\", display: \"inline-block\" }} className=\"skeleton-content-2 sl\"></div>\r\n                    <div style={{ width: \"calc(30% - 70px/4)\", display: \"inline-block\" }} className=\"skeleton-content-3 sl\"></div>\r\n                    <div style={{ width: \"calc(15% - 70px/4)\", display: \"inline-block\" }} className=\"skeleton-content-4 sl\"></div>\r\n                </div>\r\n            }\r\n            {Math.random() < 0.1 && <div className=\"skeleton-content-a\"></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function SkeletonLoadingMessage() {\r\n    return [...Array(20)].map((_, i) => <Skeleton key={i} />)\r\n}","import { useEffect, useRef } from \"react\"\r\n\r\nconst saveSelection = (containerEl, newText) => {\r\n    const range = window.getSelection().getRangeAt(0)\r\n    const preSelectionRange = range.cloneRange();\r\n    preSelectionRange.selectNodeContents(containerEl)\r\n    preSelectionRange.setEnd(range.startContainer, range.startOffset)\r\n    const start = `${preSelectionRange}`.length\r\n\r\n    return {\r\n        start: start + newText.length,\r\n        end: start + `${range}`.length + newText.length,\r\n        pos: [start, `${range}`.length + start]\r\n    }\r\n}\r\n\r\nconst setSelection = (containerEl, savedSel) => {\r\n    let charIndex = 0\r\n    let range = document.createRange();\r\n    range.setStart(containerEl, 0);\r\n    range.collapse(true);\r\n    let nodeStack = [containerEl]\r\n    let node\r\n    let foundStart = false\r\n    let stop = false\r\n\r\n    while (!stop && (node = nodeStack.pop())) {\r\n        if (node.nodeType === 3) {\r\n            const nextCharIndex = charIndex + node.length;\r\n            if (!foundStart && savedSel.start >= charIndex && savedSel.start <= nextCharIndex) {\r\n                range.setStart(node, savedSel.start - charIndex)\r\n                foundStart = true\r\n            }\r\n            if (foundStart && savedSel.end >= charIndex && savedSel.end <= nextCharIndex) {\r\n                range.setEnd(node, savedSel.end - charIndex)\r\n                stop = true\r\n            }\r\n            charIndex = nextCharIndex\r\n        } else {\r\n            let i = node.childNodes.length\r\n            while (i--) {\r\n                nodeStack.push(node.childNodes[i])\r\n            }\r\n        }\r\n    }\r\n\r\n    const sel = window.getSelection()\r\n    sel.removeAllRanges()\r\n    sel.addRange(range)\r\n}\r\n\r\nconst getScrollParent = node => {\r\n    if (!node) return\r\n    if (node.style?.overflowY === \"auto\") return node\r\n    if (node.scrollHeight > node.clientHeight) return node\r\n    return getScrollParent(node.parentNode)\r\n}\r\n\r\nconst Input = ({ renderId, placeholder, defaultValue, innerRef, onPaste, onKeyDown, ...props }) => {\r\n    const divRef = useRef()\r\n    const add = (el, text) => {\r\n        const savedSelection = saveSelection(el, text)\r\n        el.textContent = el.textContent.slice(0, savedSelection.pos[0]) + text + el.textContent.slice(savedSelection.pos[1])\r\n        setSelection(el, savedSelection)\r\n    }\r\n\r\n    const scrollToBottom = element => {\r\n        const firstScrollableParent = getScrollParent(element)\r\n        if (firstScrollableParent) firstScrollableParent.scrollTop = firstScrollableParent.scrollHeight\r\n    }\r\n\r\n    const handlePaste = (e) => {\r\n        e.preventDefault()\r\n        const text = e.clipboardData.getData(\"text\")\r\n        if (text) add(e.target, text)\r\n        onPaste?.(e)\r\n        scrollToBottom(e.target)\r\n    }\r\n\r\n    const handleKeyDown = (e) => {\r\n        if (e.code === \"Backspace\" && e.target.textContent.length <= 1) e.target.innerHTML = \"\"\r\n        if (e.key === \"z\" && e.ctrlKey && !e.shiftKey) return\r\n        if (e.code === \"Enter\" && e.shiftKey) return\r\n        onKeyDown?.(e)\r\n        scrollToBottom(e.target)\r\n    }\r\n\r\n    const handleDrop = e => {\r\n        e.preventDefault()\r\n        const text = e.dataTransfer.getData(\"text/plain\")\r\n        e.target.textContent = e.target.textContent + text\r\n        setSelection(e.target, { start: e.target.textContent.length - text.length, end: e.target.textContent.length })\r\n        scrollToBottom(e.target)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const input = divRef.current.lastChild\r\n        input.focus()\r\n        setSelection(input, { start: input.textContent.length, end: input.textContent.length })\r\n    }, [renderId])\r\n\r\n    return (\r\n        <div\r\n            ref={divRef}\r\n            className=\"not-input\"\r\n            onPaste={handlePaste}\r\n            onDrop={handleDrop}\r\n            onKeyDown={handleKeyDown}\r\n            role=\"textbox\"\r\n            {...props}>\r\n            <div ref={innerRef} suppressContentEditableWarning={true} placeholder={placeholder} contentEditable=\"true\" className=\"plain-text\">\r\n                {defaultValue}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input","const Gear = ({ width, height }) => {\r\n\treturn (\r\n\t\t<svg fill=\"currentColor\" width={width} height={height} x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\">\r\n\t\t\t<g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path d=\"M495.304,205.913h-45.519c-4.73-18.267-11.996-35.493-21.382-51.291l33.961-33.961c6.487-6.492,6.516-17.095,0-23.611\r\n\t\t\tL414.95,49.633c-6.521-6.521-17.093-6.521-23.613,0l-33.959,33.961c-15.797-9.385-33.024-16.649-51.291-21.382V16.696\r\n\t\t\tC306.087,7.477,298.572,0,289.391,0h-66.783c-9.18,0-16.696,7.477-16.696,16.696v45.517c-18.265,4.73-35.493,11.992-51.291,21.379\r\n\t\t\tl-33.959-33.959c-6.521-6.521-17.093-6.521-23.613,0L49.635,97.05c-6.521,6.52-6.52,17.089,0,23.611l33.961,33.961\r\n\t\t\tc-9.385,15.799-16.651,33.024-21.382,51.291H16.696C7.515,205.913,0,213.39,0,222.609v66.783c0,9.214,7.482,16.693,16.696,16.693\r\n\t\t\th45.519c4.73,18.267,11.996,35.493,21.382,51.291l-33.961,33.961c-6.521,6.52-6.52,17.089,0,23.611l47.415,47.417\r\n\t\t\tc6.527,6.527,17.084,6.525,23.613,0l33.959-33.959c15.797,9.387,33.026,16.647,51.291,21.379v45.519\r\n\t\t\tc0,9.214,7.482,16.696,16.696,16.696h66.783c9.157,0,16.696-7.463,16.696-16.696v-45.519c18.265-4.73,35.493-11.992,51.291-21.379\r\n\t\t\tl33.959,33.959c6.527,6.527,17.084,6.525,23.613,0l47.415-47.417c6.487-6.492,6.516-17.095,0-23.611l-33.961-33.961\r\n\t\t\tc9.385-15.799,16.651-33.024,21.382-51.291h45.519c9.214,0,16.696-7.481,16.696-16.693v-66.783\r\n\t\t\tC512,213.447,504.54,205.913,495.304,205.913z M256,339.476c-46.08-0.029-83.449-37.396-83.478-83.476\r\n\t\t\tc0.029-46.082,37.398-83.449,83.478-83.478c46.08,0.029,83.449,37.396,83.478,83.478C339.449,302.08,302.08,339.448,256,339.476z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Gear","import React, { useRef, useEffect } from \"react\";\r\n\r\nfunction useOutsideAlerter(ref, e, getEvent) {\r\n    useEffect(() => {\r\n\r\n        function handleClickOutside(event) {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                if (getEvent) return e(event)\r\n                e?.()\r\n            }\r\n        }\r\n\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [ref, e, getEvent]);\r\n}\r\n\r\nconst Utils = {\r\n    Out({ click, children, getEvent}) {\r\n        const wrapperRef = useRef(null);\r\n        useOutsideAlerter(wrapperRef, click, getEvent);\r\n        return <div className=\"outer-div\" ref={wrapperRef}>{children}</div>;\r\n    },\r\n    isScolled(el, holder) {\r\n        holder = holder || document.body\r\n        const { top, bottom, height } = el.getBoundingClientRect()\r\n        const holderRect = holder.getBoundingClientRect()\r\n\r\n        return top <= holderRect.top\r\n            ? holderRect.top - top <= height\r\n            : bottom - holderRect.bottom <= height\r\n    }\r\n}\r\n\r\nexport default Utils","import { useState, useContext } from \"react\"\r\nimport Utils from \"../utils\"\r\nimport { ScreenContext } from \"./message\"\r\n\r\nconst Animate = (props) => {\r\n    const [animation, setAnimation] = useState(props.type === 1 ? \"taller\" : \"bigger\")\r\n    const { setView } = useContext(ScreenContext)\r\n    const click = () => {\r\n        setAnimation(props.type === 1 ? \"shorter\" : \"smaller\")\r\n        setTimeout(() => setView(), 100)\r\n        props.quit?.()\r\n    }\r\n    return (\r\n        <div className={`${!props.normal ? \"dark-div\" : \"clear-div\"} ${animation}`}>\r\n            <Utils.Out click={click}>\r\n                {props.children}\r\n            </Utils.Out>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Animate","import { useContext } from \"react\"\r\nimport { ScreenContext } from \"..\"\r\nimport User from \"../../../classes/user\"\r\nimport Animate from \"../../animate\"\r\nimport \"./index.css\"\r\n\r\nconst StatusManager = () => {\r\n    const { user } = useContext(ScreenContext)\r\n    const me = new User(user)\r\n\r\n    return (\r\n        <Animate normal type={1}>\r\n            <div style={{ width: 220, left: 84, bottom: 62, transformOrigin: \"bottom center\" }} className=\"status-manager generic-menu animated-popup\">\r\n                <div className=\"current-status option\">{me.customStatus ? me.customStatus : \"Set a custom status\"}</div>\r\n            </div>\r\n        </Animate>\r\n    )\r\n}\r\n\r\nexport default StatusManager","import { useContext } from \"react\"\r\nimport User from \".\"\r\nimport { ScreenContext } from \"../../app/message\"\r\nimport Gear from \"../../icons/settings\"\r\nimport StatusManager from \"../../app/message/statusManager\"\r\n\r\nconst Footer = () => {\r\n    const { user, setView, setShowSettings } = useContext(ScreenContext)\r\n    const me = new User(user)\r\n\r\n    const showSettings = () => setShowSettings(true)\r\n    /*const save = () => {\r\n        setView(<UserSettings onEdit={editHandler} user={me} name=\"bigger waiting\" onClickOut={disappear} />)\r\n    }\r\n    const appear = () => setView(<UserSettings onEdit={editHandler} user={me} name=\"bigger\" onClickOut={disappear} onSave={save} />)\r\n    const disappear = () => {\r\n        setView(<UserSettings onEdit={editHandler} user={me} name=\"smaller\" onClickOut={disappear} />)\r\n        setTimeout(() => setView(), 100)\r\n    } */\r\n\r\n\r\n    return (\r\n        <footer className=\"footer\">\r\n            <div className=\"icon-div\">\r\n                <img onClick={() => setView(<StatusManager />)} width=\"32\" height=\"32\" className=\"my-pfp\" src={me.displayAvatarURL(90, \"false\")} alt=\"icon\" />\r\n                <div className=\"status icon-status\" />\r\n            </div>\r\n            <h5 className=\"my-username\">{me.username}<span>{me.tag}</span></h5>\r\n            <div title=\"User Settings\" onClick={showSettings} className=\"settings-button\"><Gear width={17} height={17} /></div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import Server from \"../server\"\r\nimport { useState } from \"react\"\r\nimport { link } from \"../../config.json\"\r\n\r\nconst Invite = ({ invite, code, onJoin, me }) => {\r\n    const server = new Server(invite)\r\n    const text = me.servers.find(s => s._id === server.id) ? \"Joined\" : \"Join\"\r\n    const [state, setState] = useState(text)\r\n\r\n    const join = () => {\r\n        if (text === \"Joined\" || state === \"...\") return\r\n        setState(\"...\")\r\n        fetch(`${link}servers/${code}`, { method: \"POST\", headers: { Authorization: me.token } })\r\n            .then((res) => res.json())\r\n            .then((server) => {\r\n                setState(\"Joined\")\r\n                onJoin(server)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"message-invite\">\r\n            <img width=\"40\" height=\"40\" className=\"server-invite-icon\" src={server.displayIcon(57)} alt=\"icon\" />\r\n            <div className=\"name-and-members\">\r\n                <h4 className=\"server-invite-name\">{server.name}</h4>\r\n                <div className=\"member-count\">{invite.members.length} member{invite.members.length !== 1 && \"s\"}</div>\r\n            </div>\r\n            <button onClick={join} className=\"server-invite-join\">{state}</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Invite","function Dots({ size }) {\r\n    return (\r\n        <svg width={size} height={size} viewBox=\"0 0 24 24\">\r\n            <rect id=\"view-box\" width=\"24\" height=\"24\" fill=\"currentColor\" opacity=\"0\" />\r\n            <path id=\"Shape\" d=\"M12,1.5A1.5,1.5,0,1,1,13.5,3,1.5,1.5,0,0,1,12,1.5Zm-6,0A1.5,1.5,0,1,1,7.5,3,1.5,1.5,0,0,1,6,1.5Zm-6,0A1.5,1.5,0,1,1,1.5,3,1.5,1.5,0,0,1,0,1.5Z\" transform=\"translate(4.5 11)\" fill=\"currentColor\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default Dots","import Animate from \"../../app/animate\"\r\nimport MessageJSX from \"./message\"\r\n\r\nconst MessageDelete = ({ message, onCancel }) => {\r\n    const del = () => {\r\n        message.delete()\r\n        onCancel()\r\n    }\r\n    return (\r\n        <Animate>\r\n            <div className={`dlt animated-popup`}>\r\n                <h2 className=\"some-text\">Delete message</h2>\r\n                <h4 className=\"dumb-question\">Are you sure you want to delete this message?</h4>\r\n                <div className=\"preview-message\"><MessageJSX full={true} message={message} /></div>\r\n                <div className=\"lower-section\">\r\n                    <button onClick={onCancel} className=\"generic-button cancel\">Cancel</button>\r\n                    <button className=\"generic-button error\" onClick={del}>Delete</button>\r\n                </div>\r\n            </div>\r\n        </Animate>\r\n    )\r\n}\r\n\r\nexport default MessageDelete","import { useRef, useContext, useState, useLayoutEffect } from \"react\"\r\nimport Utils from \"../../utils\"\r\nimport Delete from \"./delete-message\"\r\nimport { ScreenContext } from \"../../app/message\"\r\n\r\nconst Menu = ({ style, message, clickOut, edit }) => {\r\n    const { user: me, setView } = useContext(ScreenContext)\r\n    const [top, setTop] = useState(style.top)\r\n    const divRef = useRef()\r\n    useLayoutEffect(() => {\r\n        const viewportOffset = divRef.current.getBoundingClientRect();\r\n        if (style.top > window.innerHeight - viewportOffset.height - 10) setTop(window.innerHeight - viewportOffset.height - 10)\r\n        if (style.top < 10) setTop(10)\r\n    }, [style.top])\r\n    const deleteE = () => {\r\n        clickOut()\r\n        setView(<Delete onCancel={() => setView()} message={message} />)\r\n    }\r\n    const copyID = () => {\r\n        navigator.clipboard.writeText(message.id)\r\n        clickOut()\r\n    }\r\n    const editMessage = () => {\r\n        clickOut()\r\n        edit(deleteE)\r\n    }\r\n    const readMessage = () => {\r\n        if ('speechSynthesis' in window) {\r\n            const audio = new SpeechSynthesisUtterance()\r\n            audio.text = `${message.author.username} said ${message.content}`\r\n            speechSynthesis.speak(audio)\r\n        }\r\n        clickOut()\r\n    }\r\n    return (\r\n        <Utils.Out click={clickOut}>\r\n            <div ref={divRef} style={{ ...style, top }} className=\"message-menu\">\r\n                {me._id === message.author.id && <div onClick={editMessage} className=\"editor option\">Edit</div>}\r\n                <div onClick={deleteE} className=\"deletor option\">Delete</div>\r\n                <div className=\"option\" onClick={readMessage}>Speak Message</div>\r\n                <div className=\"option\" onClick={copyID}>Copy ID</div>\r\n            </div>\r\n        </Utils.Out>\r\n    )\r\n}\r\n\r\nexport default Menu","import { useContext, useState } from \"react\"\r\nimport { link } from \"../../config.json\"\r\nimport { ScreenContext } from \"../../app/message\"\r\nimport Animate from \"../../app/animate\"\r\n\r\nconst Attachment = ({ message }) => {\r\n    const { setView } = useContext(ScreenContext)\r\n    const click = () => setView(\r\n        <Animate>\r\n            <img className={`view-attachment animated-popup`} src={link + message.attachment.URL} alt=\"attachment\" />\r\n        </Animate>\r\n    )\r\n    const [bg, setBg] = useState(\r\n        <div className=\"rotating\">\r\n            <div className=\"rotating-div-1\" />\r\n            <div className=\"rotating-div-2\" />\r\n        </div>\r\n    )\r\n    if (!message.attachment?.URL) return null\r\n    return (\r\n        <div className=\"image-div\">\r\n            {bg}\r\n            <img onLoad={() => setBg()} loading=\"lazy\" width={message.calculateImage.width} height={message.calculateImage.height} src={message.displayAttachmentURL} className=\"message-attachment\" alt=\"attachment\" onClick={click} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Attachment","import Utils from \"../../utils\";\r\nimport Invite from \"./invite\";\r\nimport Dots from \"../../icons/3dots\";\r\nimport Menu from \"./menu\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport Attachment from \"./attachment\";\r\nimport Input from \"../../global/input\";\r\nimport \"./message.css\"\r\nimport UserJSX from \"../user/user\";\r\nimport { ScreenContext } from \"../../app/message\";\r\n\r\nconst Text = ({ message, isBeingEdited, edit, input, setIsBeingEdited, edited }) => {\r\n    if (isBeingEdited) return (\r\n        <div className=\"message-editor\">\r\n            <div style={{ overflowY: \"auto\", maxHeight: \"40vh\" }} className=\"text-content\">\r\n                <Input defaultValue={message.content} onKeyDown={(k) => k.code === \"Enter\" && edit(k)} innerRef={input} className=\"message-edit not-input\" />\r\n            </div>\r\n            <div className=\"editor-text\">escape to <span onClick={() => setIsBeingEdited(false)}>cancel</span> or enter to <span onClick={edit}>save</span> </div>\r\n        </div>\r\n    )\r\n    return <span className={`text ${(message.unsent ? \"unsent-message \" : \" \") + (message.failed ? \"failed-tosend\" : \"\")}`}>{message.content}{edited && <span title={new Date(message.updatedAt).toDateString()} className=\"edited\">(edited)</span>}</span>\r\n}\r\n\r\nconst MessageJSX = ({ message, full }) => {\r\n    const [clicked, setClicked] = useState(false)\r\n    const [isBeingEdited, setIsBeingEdited] = useState(null)\r\n    const [av, setAv] = useState(\"false\")\r\n    const { setView } = useContext(ScreenContext)\r\n    const input = useRef()\r\n    const clickOut = (...args) => {\r\n        setClicked(false)\r\n        setView(...args)\r\n    }\r\n    const click = async (e) => {\r\n        if (clicked) return clickOut()\r\n        setClicked(true)\r\n        const viewportOffset = e.target.getBoundingClientRect()\r\n        const style = {\r\n            left: viewportOffset.left + viewportOffset.width + 7 < window.innerWidth - 275 ? viewportOffset.left + viewportOffset.width + 7 : window.innerWidth - 275,\r\n            top: viewportOffset.top - 60\r\n        }\r\n        setView(\r\n            <Utils.Out getEvent={true} click={e => e.target.id !== `avatar-${message.id}` && clickOut()}>\r\n                <UserJSX setView={clickOut} user={message.author} server={message.server} style={style} />\r\n            </Utils.Out>\r\n        )\r\n    }\r\n    const join = (server) => message.onJoin(server)\r\n    const triggerEdit = (ifEmptyDelete) => {\r\n        document.dispatchEvent(new KeyboardEvent(\"keydown\", { code: \"Escape\" }))\r\n        setIsBeingEdited(() => ifEmptyDelete)\r\n    }\r\n    const menu = (e) => {\r\n        const viewportOffset = e.target.getBoundingClientRect();\r\n        const style = {\r\n            top: viewportOffset.top,\r\n            left: viewportOffset.left,\r\n            zIndex: 4\r\n        }\r\n        const out = () => {\r\n            setView()\r\n            setClicked(false)\r\n        }\r\n        setView(<Menu clickOut={out} edit={triggerEdit} style={style} message={message} />)\r\n        setClicked(true)\r\n    }\r\n    const edit = (e) => {\r\n        if (!input.current?.innerText.trim()) {\r\n            e.preventDefault()\r\n            return isBeingEdited()\r\n        }\r\n        if (input.current) message.edit(input.current.innerText)\r\n        setIsBeingEdited()\r\n    }\r\n\r\n    const edited = new Date(message.updatedAt).getTime() !== new Date(message.timestamp).getTime()\r\n\r\n    useEffect(() => {\r\n        const listener = (e) => {\r\n            if (e.code === \"Escape\") setIsBeingEdited(null)\r\n        }\r\n        document.addEventListener(\"keydown\", listener)\r\n        return () => document.removeEventListener(\"keydown\", listener)\r\n    }, [message.author])\r\n\r\n    return (\r\n        <div onMouseLeave={() => setAv(\"false\")} onMouseOver={() => setAv(null)} id={message.id} className={`message-div ${message.unsent ? \"unsent\" : \"\"} ${(clicked || !!isBeingEdited) && \"clicked\"}`} style={{ marginTop: full ? \"0.4em\" : 0 }}>\r\n            {full ? <img id={`avatar-${message.id}`} onClick={click} width=\"40\" height=\"40\" className=\"author-icon\" src={message.author.displayAvatarURL(90, message.author.flags?.hasDynamicAvatar ? ((clicked || !!isBeingEdited) ? null : av) : null)} alt=\"avatar\" /> :\r\n                <span className=\"timestamp\">{`${message.timestamp.getHours()}`.padStart(2, '0')}:{`${message.timestamp.getMinutes()}`.padStart(2, '0')}</span>}\r\n            <div className=\"message-content\">\r\n                {full && <span className=\"author-name\"><span onClick={click} className=\"exact-author\">{message.author.username}</span><span className=\"exact-time\">{message.createdAt}</span></span>}\r\n                <Text input={input} isBeingEdited={isBeingEdited} setIsBeingEdited={setIsBeingEdited} edited={edited} edit={edit} message={message} />\r\n                <Attachment message={message} />\r\n                {message.invite?._id && <Invite me={message.me} onJoin={join} invite={message.invite} code={message.inviteCode} />}\r\n                <div onClick={menu} tabIndex=\"0\" className=\"message-params\"><Dots size={22} /></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageJSX","import React from \"react\"\r\nimport Message from \".\"\r\nimport MessageJSX from \"./message\"\r\n\r\nconst Messages = ({ messages, setMessages, me, onJoin, server }) => {\r\n    const jsx = messages.map((message, i) => {\r\n        const mapped = new Message(Object.assign(message, { setMessages }), me, onJoin, server)\r\n        const full = mapped.author.id === messages[i - 1]?.author._id\r\n        const $ = mapped.timestamp.toDateString() !== new Message(messages[i - 1] || mapped).timestamp.toDateString()\r\n        return (\r\n            <React.Fragment key={mapped.id}>\r\n                {$ && !!i && <div className=\"new-day\"><div /><span>{mapped.timestamp.toDateString()}</span><div /></div>}\r\n                <li>\r\n                    <MessageJSX full={!full || $} message={mapped} />\r\n                </li>\r\n            </React.Fragment>\r\n        )\r\n    })\r\n    return jsx\r\n}\r\n\r\nexport default Messages","const Hashtag = ({ size }) => {\r\n    return (\r\n        <svg height={size} viewBox=\"0 0 24 24\" width={size}>\r\n            <path d=\"M11.03 8h3.94l1.06-4.24a1 1 0 1 1 1.94.48L17.03 8H20a1 1 0 0 1 0 2h-3.47l-1 4H18a1 1 0 1 1 0 2h-2.97l-1.06 4.25a1 1 0 1 1-1.94-.49l.94-3.76H9.03l-1.06 4.25a1 1 0 1 1-1.94-.49L6.97 16H4a1 1 0 0 1 0-2h3.47l1-4H6a1 1 0 0 1 0-2h2.97l1.06-4.24a1 1 0 1 1 1.94.48L11.03 8zm-.5 2l-1 4h3.94l1-4h-3.94z\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default Hashtag","import { Fragment, useContext, useState } from \"react\"\r\nimport { ScreenContext } from \"../\"\r\nimport Channel from \"../../../classes/channel\"\r\nimport Server from \"../../../classes/server\"\r\nimport User from \"../../../classes/user\"\r\nimport Hashtag from \"../../../icons/hashtag\"\r\nimport Animate from \"../../animate\"\r\nimport \"./index.css\"\r\n\r\nconst MapLogs = ({ logs, click }) => {\r\n    return logs.map(l => {\r\n        const log = new User(l)\r\n\r\n        return (\r\n            <li key={log.id} onClick={() => click(log)} className=\"search-result\">\r\n                <img alt={log.username} src={log.displayAvatarURL(90)} className=\"icon-avatar\" style={{ width: 20, height: 20, borderRadius: \"50%\" }} />\r\n                <span>{log.username}</span>\r\n            </li>\r\n        )\r\n    })\r\n}\r\n\r\nconst MapChannels = ({ server }) => {\r\n    return server.channels.map(c => {\r\n        const channel = new Channel(c)\r\n        return (\r\n            <li key={channel.id} className=\"search-result\">\r\n                <Hashtag size={20} />\r\n                <span>{channel.name}</span>\r\n            </li>\r\n        )\r\n    })\r\n}\r\n\r\nconst MapServers = ({ filter, click }) => {\r\n    const { user, setServer } = useContext(ScreenContext)\r\n    return user.servers.map(s => {\r\n        const server = new Server(s, user)\r\n        if (!server.name.includes(filter)) return null\r\n        const c = () => {\r\n            click()\r\n            setServer(server)\r\n        }\r\n        return (\r\n            <Fragment key={server.id} >\r\n                <MapChannels server={server} />\r\n                <li onClick={c} className=\"search-result\">\r\n                    <img alt={server.name} src={server.displayIcon(100)} className=\"icon-avatar\" style={{ width: 20, height: 20, borderRadius: 5 }} />\r\n                    <span>{server.name}</span>\r\n                </li>\r\n            </Fragment>\r\n        )\r\n    })\r\n}\r\n\r\nconst FindConversation = ({ logs, clickUser }) => {\r\n    const [filter, setFilter] = useState(\"\")\r\n    const { setView } = useContext(ScreenContext)\r\n\r\n    const clickEv = (user) => {\r\n        setView()\r\n        clickUser(user)\r\n    }\r\n\r\n    return (\r\n        <Animate>\r\n            <div className={`generic-popup find-conversation animated-popup`}>\r\n                <input placeholder=\"Where would you like to go?\" onChange={e => setFilter(e.target.value)} className=\"big-input\" />\r\n                <div className=\"list\">\r\n                    <ul>\r\n                        <MapLogs click={clickEv} logs={logs.filter(log => log.username.includes(filter))} />\r\n                        <MapServers click={() => setView()} filter={filter} />\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </Animate>\r\n    )\r\n}\r\n\r\nexport default FindConversation","const send = (message, channel, setAttachments, setMessages, attachments) => {\r\n    if (attachments?.length) setAttachments?.([])\r\n    setMessages(prev => [...prev, message])\r\n    channel.send(message)\r\n        .then(msg => {\r\n            const update = Object.assign(message, { _id: msg.id, unsent: false, invite: msg.invite, content: msg.content })\r\n            if (msg.attachment?.URL) update.attachment = msg.attachment\r\n            setMessages(prev => {\r\n                const allMessages = [...prev]\r\n                const find = allMessages.find(ms => ms._id === message._id)\r\n                allMessages[allMessages.indexOf(find)] = update\r\n                return allMessages\r\n            })\r\n            update.author.online = msg.author.online\r\n        })\r\n        .catch((err) => {\r\n            console.error(err)\r\n            setMessages(prev => {\r\n                const list = [...prev]\r\n                const find = list.find(ms => ms._id === message._id)\r\n                find.failed = true\r\n                return list\r\n            })\r\n        })\r\n}\r\n\r\nconst createMessage = (k, user, channel, setMessages, attachments, setAttachments) => {\r\n    if (k.code !== \"Enter\") return\r\n    k.preventDefault?.();\r\n    if (!k.target.textContent.trim() && !attachments.length) return\r\n    const message = { author: user, content: k.target.innerText.trim(), _id: `m${Date.now()}`, createdAt: Date.now(), unsent: true, channel: channel.id, updatedAt: Date.now(), attachment: attachments?.[0]?.data }\r\n    send(message, channel, setAttachments, setMessages, attachments)\r\n    k.target.textContent = \"\"\r\n}\r\n\r\nexport default createMessage\r\n\r\n","import { useEffect, useLayoutEffect, useState, useCallback, useContext } from \"react\"\r\nimport User from \"../../classes/user\"\r\nimport Plus from \"../../icons/plus\"\r\nimport \"./home.css\"\r\nimport { link } from \"../../config.json\"\r\nimport { ScreenContext, socket } from \".\"\r\nimport SkeletonLoadingMessage from \"../../icons/bones\"\r\nimport Input from \"../../global/input\"\r\nimport Footer from \"../../classes/user/footer\"\r\nimport Messages from \"../../classes/message/messagesMapper\"\r\nimport SearchUsers from \"./findConversation/index\"\r\nimport createMessage from \"./sendMessage\"\r\nimport handleSocketEvents from \"./handleSocketEvents\"\r\n\r\nconst Map = ({ users, onClick, type }) => {\r\n    return users.map(u => {\r\n        if (!u) return null\r\n        const user = new User(u)\r\n        return (\r\n            <div key={user.id} className=\"friend\">\r\n                <img width=\"35\" height=\"35\" alt=\"uwu\" src={user.displayAvatarURL(45)} className=\"friend-pfp\" />\r\n                <div>\r\n                    <h5 className=\"friend-name\">{user.username}<span>{user.tag}</span></h5>\r\n                    <p className=\"state\">{type === \"requests\" && u.received && \"Incoming friend request\"}</p>\r\n                    <p className=\"state\">{type === \"requests\" && !u.received && \"Ongoing friend request\"}</p>\r\n                    <p className=\"state\">{type === \"friends\" && (!u.online ? \"Offline\" : \"Online\")}</p>\r\n                </div>\r\n                {type === \"requests\" && u.received && <div onClick={() => onClick?.(user)} className=\"accept\"><Plus size={15} /></div>}\r\n                {type === \"friends\" && <div onClick={() => onClick?.(user)} className=\"accept\">DM</div>}\r\n            </div>\r\n        )\r\n    })\r\n}\r\n\r\nconst Friends = ({ online, user, click }) => {\r\n    const [friends, setFriends] = useState([])\r\n\r\n    useEffect(() => {\r\n        let isMounted = true\r\n        fetch(`${link}friends`, {\r\n            headers: {\r\n                Authorization: user.token\r\n            }\r\n        }).then(res => res.json())\r\n            .then(friends => {\r\n                if (isMounted) setFriends(online ? friends.filter(f => f.online) : friends)\r\n            })\r\n        return () => {\r\n            isMounted = false\r\n            setFriends([])\r\n        }\r\n    }, [user, online])\r\n\r\n    return (\r\n        <>\r\n            <h5 className=\"home-title\">{online ? \"ONLINE\" : \"ALL\"}—{friends.length}</h5>\r\n            <div className=\"list\">\r\n                <Map onClick={click} type=\"friends\" users={friends} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Add = ({ user }) => {\r\n    const [value, setValue] = useState(\"\")\r\n    const [text, setText] = useState(<p className=\"dumb-text-3\">You can add a friend by their tag. It's CaSe SeNsiTive!</p>)\r\n\r\n    const handleInputChange = (e) => setValue(e.target.value)\r\n\r\n    const sendRequest = async () => {\r\n        const [username, tag] = value.split(\"#\")\r\n        if (!username || !tag) return\r\n        const res = await fetch(`${link}users/${username}&${tag}/request`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Authorization: user.token,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n\r\n        if (res.ok) {\r\n            return setText(<p style={{ color: \"var(--green)\" }} className=\"dumb-text-3\">You send a friend request to {username + \"#\" + tag}</p>)\r\n        }\r\n\r\n        setText(<p style={{ color: \"var(--red)\" }} className=\"dumb-text-3\">Failed to send a friend request to {username + \"#\" + tag}</p>)\r\n    }\r\n\r\n    return (\r\n        <div className=\"invite\">\r\n            <h3 className=\"h3-add\">ADD FRIEND</h3>\r\n            {text}\r\n            <div className=\"add-friend-input\">\r\n                <input autoComplete=\"off\" maxLength=\"35\" onChange={handleInputChange} placeholder=\"Enter a username#0000\" />\r\n                <div className=\"fake-after\">{!value.includes(\"#\") && value}</div>\r\n                <button onClick={sendRequest} className={`send-friend-request ${value && \"valid\"}`}>Send friend request</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Pending = ({ user }) => {\r\n    const [requests, setRequests] = useState([])\r\n\r\n    useEffect(() => {\r\n        let isMounted = true\r\n        fetch(`${link}friends/pending`, {\r\n            headers: {\r\n                Authorization: user.token\r\n            }\r\n        }).then(res => res.json())\r\n            .then(requests => {\r\n                if (isMounted) setRequests(requests)\r\n            })\r\n        return () => { isMounted = false }\r\n    }, [user])\r\n\r\n    const click = (invite) => {\r\n        setRequests(prev => [...prev].filter(u => u._id !== invite.id))\r\n        fetch(`${link}accept/${invite.id}`, {\r\n            method: \"POST\",\r\n            headers: { Authorization: user.token }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h5 className=\"home-title\">PENDING—{requests.length}</h5>\r\n            <div className=\"list\">\r\n                <Map type=\"requests\" onClick={click} users={requests} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst DM = ({ dm, me, onJoin, setLogs }) => {\r\n\r\n    const [messages, setMessages] = useState([])\r\n    const [isLoading, setIsLoading] = useState()\r\n\r\n    const sendMessage = useCallback((k) => {\r\n        createMessage(k, me, new User(dm.user), setMessages)\r\n        setLogs(prev => {\r\n            const newOrder = [...prev]\r\n            newOrder.splice(0, 0, newOrder.splice(newOrder.findIndex(u => u._id === dm.user._id), 1)[0]);\r\n            return newOrder\r\n        });\r\n    }, [me, dm, setLogs])\r\n\r\n    useLayoutEffect(() => {\r\n        let isMounted = true\r\n        setIsLoading(<SkeletonLoadingMessage />)\r\n        fetch(`${link}dm/${dm.user.id}`, {\r\n            headers: { Authorization: me.token }\r\n        }).then(res => res.json())\r\n            .then(messages => {\r\n                if (isMounted) {\r\n                    setMessages(messages)\r\n                    setIsLoading()\r\n                    if (dm.message?.target.textContent) sendMessage(dm.message)\r\n                }\r\n            })\r\n        socket.on(\"dm\", message => {\r\n            if (!isMounted) return\r\n            if (message.channel !== dm.user.id) return\r\n            handleSocketEvents.message(setMessages, message)\r\n        })\r\n        socket.on(\"messageDelete\", message => {\r\n            if (!isMounted) return\r\n            if (message.user !== dm.user.id && message.user !== me._id) return\r\n            handleSocketEvents.messageDelete(setMessages, message)\r\n        })\r\n        socket.on(\"messageEdit\", message => {\r\n            console.log(message.user)\r\n            handleSocketEvents.messageEdit(setMessages, message)\r\n        })\r\n        return () => {\r\n            isMounted = false\r\n            socket.off(\"dm\").off(\"messageDelete\").off(\"messageEdit\")\r\n            setMessages([])\r\n        }\r\n    }, [me.token, me._id, dm, sendMessage])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"chat\">\r\n                {isLoading}\r\n                <ul className=\"fetched-messages\">\r\n                    <div className=\"dm-start\">\r\n                        <img height=\"85\" width=\"85\" className=\"dm-avatar\" alt=\"icon\" src={dm.user.displayAvatarURL(90)} />\r\n                        <h3 className=\"dm-username\">{dm.user.username}</h3>\r\n                        <p className=\"dumb-text-2\">This is the beginning of your direct message history with <span>{dm.user.username}</span></p>\r\n                    </div>\r\n                    <Messages onJoin={onJoin} setMessages={setMessages} messages={messages} me={me} />\r\n                </ul>\r\n            </div>\r\n            <form className=\"send-message\">\r\n                <div className=\"controll\">\r\n                    <div className=\"text-content\">\r\n                        <Input placeholder={`Send a message to ${dm.user.username}`} onKeyDown={sendMessage} />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Home = ({ user, dm, onJoin }) => {\r\n    const { setView } = useContext(ScreenContext)\r\n    const [button, setButton] = useState(\"online\")\r\n    const [Dm, setDm] = useState(dm)\r\n    const [logs, setLogs] = useState([])\r\n    const clickEvent = (u) => setDm({ user: u })\r\n    const [screen, setScreen] = useState(<Friends click={clickEvent} online={true} user={user} />)\r\n\r\n    useEffect(() => {\r\n        if (dm) setDm(dm)\r\n    }, [dm])\r\n\r\n    const { not: [notifications, setNotifications] } = useContext(ScreenContext)\r\n\r\n    useLayoutEffect(() => {\r\n        if (!Dm?.user.id) return\r\n        if (notifications.find(n => n.user._id === Dm.user.id)) setNotifications(prev => [...prev].filter(n => n.user._id !== Dm.user.id))\r\n        fetch(`${link}notifications?id=${Dm.user.id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                Authorization: user.token\r\n            }\r\n        })\r\n            .catch(console.log)\r\n    }, [notifications, setNotifications, Dm?.user.id, user.token])\r\n\r\n    useEffect(() => {\r\n        let isMounted = true\r\n        fetch(`${link}dms/logs`, {\r\n            headers: {\r\n                Authorization: user.token\r\n            }\r\n        }).then(res => res.json())\r\n            .then(logs => {\r\n                if (isMounted) setLogs(logs)\r\n            })\r\n        socket.on(\"online\", user => handleSocketEvents.memberOnline(setLogs, user))\r\n        return () => {\r\n            socket.off(\"online\")\r\n            isMounted = false\r\n        }\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        if (Dm) {\r\n            setScreen(<DM setLogs={setLogs} onJoin={onJoin} dm={Dm} me={user} />)\r\n            setButton(Dm.user.id)\r\n            if (!logs.some(u => u._id === Dm.user.id)) {\r\n                setLogs(prev => [Dm.user, ...prev])\r\n            }\r\n        }\r\n    }, [Dm, user, onJoin, logs])\r\n\r\n    const click = (button) => () => {\r\n        setButton(button)\r\n        if (button === \"online\") setScreen(<Friends click={clickEvent} online={true} user={user} />)\r\n        if (button === \"add\") setScreen(<Add user={user} />)\r\n        if (button === \"pending\") setScreen(<Pending user={user} />)\r\n        if (button === \"all\") setScreen(<Friends click={clickEvent} user={user} />)\r\n    }\r\n\r\n    const getFriends = () => {\r\n        setButton(\"online\")\r\n        setDm()\r\n        setScreen(<Friends click={clickEvent} online={true} user={user} />)\r\n    }\r\n\r\n    const makeConversation = () => setView(<SearchUsers clickUser={(user) => setDm({ user })} logs={logs} />)\r\n\r\n    return (\r\n        <main className=\"flexible-container\">\r\n            <section className=\"left-part\">\r\n                <header className=\"server-name home-search\">\r\n                    <input onClick={makeConversation} value=\"Find or start conversation\" className=\"home-search-input generic-input-type-button\" type=\"button\" />\r\n                </header>\r\n                <div className=\"channels\">\r\n                    <div onClick={getFriends} className={`friends-click ${!Dm && \"friends-clicked\"}`}>Friends</div>\r\n                    <h4 className=\"direct-messages\">DIRECT MESSAGES</h4>\r\n                    {logs.map(u => {\r\n                        const user = new User(u)\r\n                        const click = () => setDm({ user })\r\n                        return (\r\n                            <div onClick={click} key={user.id} style={{ opacity: 1 }} className={`member ${Dm?.user.id === user.id && \"member-clicked\"} ${!user.online && \"member-offline\"}`}>\r\n                                <div className=\"member-avatar\">\r\n                                    <img width=\"32\" height=\"32\" src={user.displayAvatarURL(90, \"false\")} alt=\"avatar\" className={`member-icon`} />\r\n                                    <div className=\"member-is-online\" />\r\n                                </div>\r\n                                <div className=\"nice-div\">\r\n                                    <h4 className={`member-name`}>{user.username}</h4>\r\n                                    <p className=\"is-online\">{user.online ? \"Online\" : \"Offline\"}</p>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <Footer setView={setView} />\r\n            </section>\r\n            <section className=\"messages messages-home\">\r\n                <div className={`name name-${button}`}>\r\n                    {!Dm ? <>\r\n                        <h3 className=\"h3-title\">Friends <span>|</span></h3>\r\n                        <div className=\"home-buttons\">\r\n                            <button onClick={click(\"online\")} className=\"online\">Online</button>\r\n                            <button onClick={click(\"all\")} className=\"all\">All</button>\r\n                            <button onClick={click(\"pending\")} className=\"pending\">Pending</button>\r\n                            <button onClick={click(\"add\")} className=\"add-friend\">Add friend</button>\r\n                        </div>\r\n                    </> :\r\n                        <div className=\"dm-title\">\r\n                            <img className=\"who-am-i-talking-to\" height=\"20\" width=\"20\" alt=\"pfp\" src={Dm.user.displayAvatarURL(80)} />\r\n                            <div className=\"channel-title\"><span>{Dm.user.username}</span></div>\r\n                        </div>\r\n                    }</div>\r\n                <div className=\"messages-main\">{screen}</div>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Home","import { useContext, useState } from \"react\"\r\nimport Animate from \"../../app/animate\"\r\nimport { ScreenContext } from \"../../app/message\"\r\nimport Server from \"../server\"\r\nimport \"./profile.css\"\r\n\r\nconst MapServers = ({ servers }) => {\r\n    return (\r\n        <div className=\"list\" style={{ marginTop: 10, height: \"100%\" }}>\r\n            {servers.map(server => {\r\n                const s = new Server(server)\r\n                return (\r\n                    <div key={s.id} className=\"mutual-server friend\">\r\n                        {server.icon ? <img width=\"40\" height=\"40\" alt=\"uwu\" src={s.displayIcon(100)} className=\"friend-pfp server-ico\" /> :\r\n                            <div style={{ width: 40, height: 40, background: \"var(--blue)\" }} className=\"default-no-img-div server-ico friend-pfp\">{server.name[0]}</div>}\r\n                        <h5 className=\"friend-name\">{s.name}</h5>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UserInfo = ({ user }) => {\r\n    const saveNote = (e) => localStorage.setItem(user.id, e.target.value)\r\n\r\n    return (\r\n        <div style={{ padding: \"0 15px\", boxSizing: \"border-box\" }} className=\"note\">\r\n            <h5>NOTE</h5>\r\n            <textarea defaultValue={localStorage.getItem(user.id)} onChange={saveNote} placeholder=\"Click to add note\"></textarea>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst All = ({ button, servers, user }) => {\r\n    switch (button) {\r\n        case 1: return <UserInfo user={user} />\r\n        case 2: return <MapServers servers={servers} />\r\n        case 3: return <div style={{ marginTop: 10 }} className=\"list\"></div>\r\n        default: return null\r\n    }\r\n}\r\n\r\nconst Profile = ({ user, dm, online }) => {\r\n    const [button, setButton] = useState(1)\r\n    const { user: me } = useContext(ScreenContext)\r\n    const mutualServers = me.servers.filter(s => s.members.includes(user.id))\r\n\r\n    const update = (button) => () => setButton(button)\r\n\r\n    const backgroundImage = !user.profileColor && `url(${user.displayAvatarURL(90)})`\r\n    return (\r\n        <Animate>\r\n            <div className={`view-profile animated-popup ${!online && \"not-online\"}`}>\r\n                <div style={{ backgroundColor: user.profileColor || \"#000000\", backgroundImage }} className=\"user-bg\"></div>\r\n                <div className=\"pfp-wrapper\">\r\n                    <img height=\"120\" width=\"120\" src={user.displayAvatarURL(120)} alt=\":p\" className=\"pfp-2\" />\r\n                    <div className=\"status profile-status\"></div>\r\n                </div>\r\n                {me._id !== user.id && <button onClick={() => dm({ code: \"Enter\" })} className=\"send-req\">Send Message</button>}\r\n                {/*i ran out of classnames*/}\r\n                <h3 className=\"uwu-20\">{user.username}<span>{user.tag}</span></h3>\r\n                <div className=\"more-with-border\">\r\n                    <div className=\"more\">\r\n                        <div onClick={update(1)} className={`more-div user-info-2 ${button === 1 && \"clicked\"}`}>User Info</div>\r\n                        <div onClick={update(2)} className={`more-div mutual-servers ${button === 2 && \"clicked\"}`}>Mutual Servers</div>\r\n                        <div onClick={update(3)} className={`more-div mutual-friends ${button === 3 && \"clicked\"}`}>Mutual Friends</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"even-more\">\r\n                    <All button={button} servers={mutualServers} user={user} />\r\n                </div>\r\n            </div>\r\n        </Animate>\r\n    )\r\n}\r\n\r\nexport default Profile","import { useContext, useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport { Update } from \"../../app\"\r\nimport { ScreenContext, socket } from \"../../app/message\"\r\nimport Home from \"../../app/message/home\"\r\nimport Gear from \"../../icons/settings\"\r\nimport Profile from \"./profile\"\r\n\r\nconst UserJSX = ({ user, server, style, setView, editable, onClick }) => {\r\n    const { setScreen, setServer, user: me } = useContext(ScreenContext)\r\n    const update = useContext(Update)\r\n    const [top, setTop] = useState(style.top)\r\n    const [seconds, setSeconds] = useState(0)\r\n    const [online, setOnline] = useState(user.online)\r\n    const divRef = useRef()\r\n    useLayoutEffect(() => {\r\n        const viewportOffset = divRef.current.getBoundingClientRect();\r\n        if (style.top > window.innerHeight - viewportOffset.height - 20) setTop(window.innerHeight - viewportOffset.height - 20)\r\n        if (style.top < 10) setTop(10)\r\n        const handleOnlineEvent = (user) => setOnline(user.online)\r\n        socket.on(\"online\", handleOnlineEvent)\r\n        return () => socket.off(\"online\", handleOnlineEvent)\r\n    }, [style.top])\r\n\r\n    useEffect(() => {\r\n        const timer = setInterval(() => setSeconds(prev => ++prev), 1000)\r\n        return () => clearInterval(timer)\r\n    }, [])\r\n\r\n    const dm = (e) => {\r\n        if (e.code !== \"Enter\") return\r\n        setServer()\r\n        const fakeEvent = { code: \"Enter\", target: { textContent: e.target?.value, innerText: e.target?.value } }\r\n        setScreen(<Home update={update} dm={{ user, message: fakeEvent }} user={me} />)\r\n        setView()\r\n    }\r\n    const saveNote = (e) => localStorage.setItem(user.id, e.target.value)\r\n\r\n    const viewProfile = () => {\r\n        if (onClick) return onClick()\r\n        setView(<Profile dm={dm} user={user} online={online} />)\r\n    }\r\n\r\n    return (\r\n        <div ref={divRef} style={{ ...style, top }} className={`user-div ${!online && \"not-online\"}`}>\r\n            <div style={{ backgroundColor: user.profileColor || \"#000\" }} className=\"user-bg-1\" />\r\n            <div data-text={editable ? \"CHANGE AVATAR\" : \"VIEW PROFILE\"} onClick={viewProfile} className=\"avatar-wrapper\">\r\n                <img width=\"80\" height=\"80\" src={user.displayAvatarURL(90)} alt=\"avatar\" className=\"user-avatar\" />\r\n                <div className={`${!editable && \"status\"}`} title={user.online ? \"online\" : \"offline\"} />\r\n            </div>\r\n            <h5 className=\"user-username\">{user.username}<span>{user.tag}</span></h5>\r\n            <div className=\"line first\" />\r\n            {server &&\r\n                <div className=\"roles\">\r\n                    <h5>ROLES</h5>\r\n                    <div className=\"role\">Member</div>\r\n                    {server.owner === user.id && <div className=\"role\">Owner</div>}\r\n                    <div className=\"line last\"></div>\r\n                </div>\r\n            }\r\n            {!editable ? <div className=\"note\">\r\n                <h5>NOTE</h5>\r\n                <textarea onChange={saveNote} defaultValue={localStorage.getItem(user.id)} placeholder=\"Click to add a note\"></textarea>\r\n            </div> :\r\n                <div className=\"customizing-my-profile\">\r\n                    <h5>CUSTOMIZING MY PROFILE</h5>\r\n                    <div style={{ height: 70 }} className=\"flex-line\">\r\n                        <div className=\"activity-icon\">\r\n                            <Gear height={50} width={50} />\r\n                        </div>\r\n                        <div className=\"activity-name\">\r\n                            <h5>User Profile</h5>\r\n                            <span>{(~~(seconds / 60)).toFixed().padStart(2, \"0\")}:{(seconds - (~~(seconds / 60) * 60)).toFixed().padStart(2, \"0\")} elapsed</span>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            {me._id !== user.id && <input onKeyDown={dm} placeholder={`Message ${user.username}${user.tag}`} className=\"dm-user\" />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserJSX","const Crown = ({ size }) => {\r\n    return (\r\n        <svg height={size} width={size} version=\"1.1\" id=\"crown\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" style={{enableBackground: 'new 0 0 512 512'}} xmlSpace=\"preserve\">\r\n        <circle style={{fill: '#F95FF2'}} cx=\"50.637\" cy=\"264.44\" r=\"50.637\" />\r\n        <circle style={{fill: '#AB15A4'}} cx=\"461.363\" cy=\"264.44\" r=\"50.637\" />\r\n        <polygon style={{fill: '#E7C05C'}} points=\"405.099,416.352 461.363,393.846 495.121,50.637 458.844,76.244 \" />\r\n        <polygon style={{fill: '#FFD875'}} points=\"375.557,135.033 255.993,50.637 136.434,135.033 16.879,50.637 50.637,416.352 \r\n\t425.391,416.352 458.844,76.244 \" />\r\n        <circle style={{fill: '#D0A842'}} cx={256} cy=\"264.44\" r=\"84.396\" />\r\n        <path style={{fill: '#FEDFFD'}} d=\"M461.363,393.846h-33.758v67.517h33.758c18.645,0,33.758-15.114,33.758-33.758\r\n\tC495.121,408.96,480.007,393.846,461.363,393.846z\" />\r\n        <path style={{fill: '#FFF3EE'}} d=\"M461.363,427.604c0-18.645-15.114-33.758-33.758-33.758H50.637\r\n\tc-18.645,0-33.758,15.114-33.758,33.758c0,18.645,15.114,33.758,33.758,33.758h376.967\r\n\tC446.249,461.363,461.363,446.249,461.363,427.604z\" />\r\n        <path style={{fill: '#AB15A4'}} d=\"M256,213.802v101.275c27.966,0,50.637-22.671,50.637-50.637S283.966,213.802,256,213.802z\" />\r\n        <path style={{fill: '#D23ACB'}} d=\"M272.879,264.44c0-27.966-7.557-50.637-16.879-50.637c-27.966,0-50.637,22.671-50.637,50.637\r\n\ts22.671,50.637,50.637,50.637C265.322,315.077,272.879,292.406,272.879,264.44z\" />\r\n        <g>\r\n          <circle style={{fill: '#E7C05C'}} cx=\"89.673\" cy=\"317.89\" r=\"8.44\" />\r\n          <circle style={{fill: '#E7C05C'}} cx=\"123.431\" cy=\"351.648\" r=\"8.44\" />\r\n        </g>\r\n      </svg>\r\n    )\r\n}\r\n\r\nexport default Crown","import { useContext, useState } from \"react\"\r\nimport { ScreenContext } from \"../../app/message\"\r\nimport Crown from \"../../icons/crown\"\r\nimport Utils from \"../../utils\"\r\nimport UserJSX from \"./user\"\r\n\r\nconst MemberJSX = ({ server, member }) => {\r\n    const [isClicked, setIsClicked] = useState(false)\r\n    const { setView } = useContext(ScreenContext)\r\n    const showUser = (e) => {\r\n        setIsClicked(true)\r\n        const cancel = () => {\r\n            setIsClicked(false)\r\n            setView()\r\n        }\r\n        const top = e.target.getBoundingClientRect().top - 40\r\n        const clickOut = (...args) => {\r\n            setIsClicked(false)\r\n            setView(...args)\r\n        }\r\n        setView(\r\n            <Utils.Out click={cancel}>\r\n                <UserJSX user={member} setView={clickOut} style={{ right: 245, top, animationName: \"reverseShift\" }} server={server}/>\r\n            </Utils.Out>\r\n        )\r\n    }\r\n    return (\r\n        <div onClick={showUser} key={member.id} className={`member ${isClicked && \"member-clicked\"} ${!member.online && \"member-offline\"}`}>\r\n            <div className=\"member-avatar\">\r\n                <img width=\"32\" height=\"32\" src={member.displayAvatarURL(90, \"false\")} alt=\"avatar\" className={`member-icon`} />\r\n                <div className=\"member-is-online\" />\r\n            </div>\r\n            <div className=\"nice-div\">\r\n                <span className={`member-name ${server?.owner === member.id && \"owner\"}`}>{member.username} {server?.owner === member.id && <Crown size={16} />}</span>\r\n                <span className=\"is-online\">{member.online ? \"Online\" : \"Offline\"}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MemberJSX","import \"./index.css\"\r\nimport { link } from \"../../config.json\"\r\nimport UserJSX from \"./user\"\r\nimport MemberJSX from \"./member\"\r\nimport Message from \"../message\"\r\n\r\nclass User {\r\n    constructor(user) {\r\n        for (const key in user) {\r\n            this[key] = user[key]\r\n        }\r\n        this.id = user._id\r\n    }\r\n    static MapMembers({ members, server, setView, me }) {\r\n        const onlineLength = members.filter(m => m?.online).length, offlineLength = members.length - onlineLength\r\n        const online = [<h5 className=\"members-title\" key=\"online\">ONLINE — {onlineLength}</h5>],\r\n            offline = [<h5 className=\"members-title\" key=\"offline\">OFFLINE — {offlineLength}</h5>]\r\n        const sortedMembers = members.sort((a, b) => a.username.localeCompare(b.username))\r\n        for (const member of sortedMembers) {\r\n            const Member = new User(Object.assign(member, { view: setView }))\r\n            const jsx = <MemberJSX member={Member} key={Member.id} server={server} me={me} />\r\n            if (member.online) online.push(jsx)\r\n            else offline.push(jsx)\r\n        }\r\n        if (offline.length === 1) offline.length = 0\r\n        if (online.length === 1) online.length = 0\r\n        return online.concat(offline)\r\n    }\r\n    displayAvatarURL(size, dynamic) {\r\n        return `${link + this.avatarURL}?${size ? `width=${size}&height=${size}` : \"\"}${(dynamic || \"\") && `&dynamic=${dynamic}`}`\r\n    }\r\n    toJSX(style, server, setView) {\r\n        return <UserJSX user={this} setView={setView} style={style} server={server} />\r\n    }\r\n    async fetch() {\r\n        const response = await fetch(`${link}fetch/${this.id}`).then(res => res.json())\r\n        this.avatarURL = response.avatarURL\r\n        this.username = response.username\r\n        return new User(Object.assign({ _id: this.id }, response))\r\n    }\r\n    async edit(username, data, profileColor) {\r\n        const edit = await fetch(`${link}user/edit`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: this.token\r\n            },\r\n            body: JSON.stringify({ username, data, profileColor })\r\n        }).then(res => res.json())\r\n            .catch(console.log)\r\n\r\n        this.avatarURL = edit.avatarURL\r\n        this.username = edit.username\r\n        return edit\r\n    }\r\n    async send(message) {\r\n        const msg = await fetch(`${link}dm/${this.id}`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Authorization: message.author.token,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                content: message.content\r\n            })\r\n        })\r\n            .then(res => res.json())\r\n        return new Message(msg)\r\n    }\r\n}\r\n\r\nexport default User","import User from \"../user\"\r\nimport \"./index.css\"\r\nimport { link } from \"../../config.json\"\r\n\r\nconst formatDate = (date) => {\r\n    const minutes = `${`${date.getHours()}`.padStart(2, '0')}:${`${date.getMinutes()}`.padStart(2, '0')}`\r\n    const now = new Date()\r\n    const ms = now.getHours() * 3600000 + now.getMinutes() * 60000 + now.getSeconds() * 1000 + now.getMilliseconds()\r\n    const day = 8.64e+7\r\n    if (Date.now() - date.getTime() <= ms) return `Today at ${minutes}`\r\n    if (Date.now() - date.getTime() <= (ms + day)) return `Yesterday at ${minutes}`\r\n    return date.toLocaleDateString()\r\n}\r\n\r\nclass Message {\r\n    constructor(message, me, onJoin, server) {\r\n        this.author = new User(message.author)\r\n        this.content = message.content\r\n        this.attachment = message.attachment\r\n        this.timestamp = new Date(message.createdAt)\r\n        this.createdAt = formatDate(new Date(message.createdAt))\r\n        this.id = message._id\r\n        this.invite = message.invite\r\n        this.unsent = message.unsent\r\n        this.server = server\r\n        this.channel = message.channel\r\n        this.Authorization = me?.token\r\n        this.me = me\r\n        this.setMessages = message.setMessages\r\n        this.onJoin = onJoin\r\n        this.failed = message.failed\r\n        this.updatedAt = message.updatedAt\r\n    }\r\n    get calculateImage() {\r\n        if (this.attachment.height < 300 && this.attachment.width < 400) return {\r\n            height: this.attachment.height,\r\n            width: this.attachment.width\r\n        }\r\n        if (this.attachment.height >= this.attachment.width) {\r\n            return { height: 300, width: this.attachment.width / this.attachment.height * 300 }\r\n        }\r\n        if (this.attachment.height / this.attachment.width * 400 > 300) return { height: 300, width: this.attachment.width / this.attachment.height * 300 }\r\n        return { width: 400, height: this.attachment.height / this.attachment.width * 400 }\r\n    }\r\n    get displayAttachmentURL() {\r\n        const query = this.calculateImage.height !== this.attachment.height && this.calculateImage.width !== this.attachment.width ?\r\n            `?width=${Math.trunc(this.calculateImage.width)}&height=${Math.trunc(this.calculateImage.height)}` : \"\"\r\n        return link + this.attachment.URL + query\r\n    }\r\n    async delete() {\r\n        const message = await fetch(`${link}channels/${this.channel}/messages/${this.id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                Authorization: this.Authorization\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n        return message\r\n    }\r\n    async edit(content) {\r\n        const message = await fetch(`${link}channels/${this.channel}/messages/${this.id}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: this.Authorization\r\n            },\r\n            body: JSON.stringify({ content })\r\n        })\r\n            .then(res => res.json())\r\n        return message\r\n    }\r\n    get inviteCode() {\r\n        const invite = this.content.match(/(^|\\s)server\\/.{8}(?=\\s|$)/g)?.[0]\r\n        if (!invite) return null\r\n        return invite.split(\"/\")[1]\r\n    }\r\n}\r\n\r\nexport default Message","import Hashtag from \"../../icons/hashtag\";\r\n\r\nconst ChannelJSX = ({ isClicked, onClick, channel }) => {\r\n    return (\r\n        <div onClick={onClick} className={`channel ${isClicked ? \"c-clicked\" : \"\"}`}>\r\n            <Hashtag size={25} />\r\n            <span>{channel.name}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChannelJSX","import { useEffect, useState } from \"react\";\r\nimport \"./index.css\";\r\nimport { link } from \"../../config.json\"\r\nimport Message from \"../message\";\r\nimport Hashtag from \"../../icons/hashtag\";\r\nimport ChannelJSX from \"./channel\";\r\nimport PreviousQueries from \"../../cache\";\r\n\r\nconst components = {\r\n    LoadChannels: (channels, server, click) => {\r\n        const [state, setState] = useState(0)\r\n        useEffect(() => setState(0), [channels])\r\n        const jsx = channels.map((c, i) => {\r\n            const channel = new Channel(c, server)\r\n            return channel.toJSX(state === i, () => {\r\n                click(channel)\r\n                setState(i)\r\n            })\r\n        })\r\n        return jsx\r\n    }\r\n}\r\n\r\nclass Channel {\r\n    constructor(channel, server) {\r\n        this.name = channel.name\r\n        this.id = channel._id\r\n        this.server = server\r\n    }\r\n    static LoadChannels = components.LoadChannels\r\n    toJSX(isClicked, click) {\r\n        return <ChannelJSX key={this.id} isClicked={isClicked} onClick={click} channel={this} />\r\n    }\r\n    toTitle() {\r\n        return (\r\n            <div className=\"channel-title\">\r\n                <Hashtag size={28} />\r\n                <span>{this.name}</span>\r\n            </div>\r\n        )\r\n    }\r\n    join(socket, token) {\r\n        socket.emit(\"join\", { channel: this.id, Authorization: token })\r\n    }\r\n    async fetchMessages(token) {\r\n        if (PreviousQueries.channels[this.id]) return { messages: PreviousQueries.channels[this.id] }\r\n        const messages = await fetch(`${link}channels/${this.id}/messages`, {\r\n            headers: { Authorization: token }\r\n        })\r\n            .then(res => res.json())\r\n            .catch(() => [])\r\n        const setMessages = PreviousQueries.at(\"channels\", this.id)\r\n        setMessages(messages.messages)\r\n        return messages\r\n    }\r\n    async send(message) {\r\n        const msg = await fetch(`${link}channels/${this.id}/messages`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: message.author.token\r\n            },\r\n            body: JSON.stringify(message)\r\n        })\r\n            .then(res => res.json())\r\n        return new Message(msg)\r\n    }\r\n}\r\n\r\nexport default Channel","const Skeleton = () => (\r\n    <div className=\"member-skeleton\">\r\n        <div className=\"member-skeleton-pfp\"></div>\r\n        <div className=\"nice-div\">\r\n            <div className=\"member-skeleton-name\"></div>\r\n            {Math.random() > 0.5 && <div className=\"member-skeleton-status\"></div>}\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default function MemberLoading({ times }) {\r\n    return [...Array(times)].map((_, i) => <Skeleton key={i} />)\r\n}","const Down = ({ size }) => {\r\n    return (\r\n        <svg width={size} height={size} viewBox=\"0 0 48 48\" fill=\"none\">\r\n            <path d=\"M37 18L25 30L13 18\" stroke=\"currentColor\" strokeWidth=\"4\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default Down","import { useContext, useEffect, useState } from \"react\";\r\nimport { ScreenContext } from \"../../app/message\";\r\nimport Plus from \"../../icons/plus\";\r\nimport \"./options.css\"\r\nimport { link } from \"../../config.json\"\r\nimport User from \"../user\";\r\n\r\nconst InvitePeople = ({ server, quit, animation }) => {\r\n    const [friends, setFriends] = useState()\r\n    const [ids, setIds] = useState([])\r\n    const [filter, setFilter] = useState(\"\")\r\n    const [copied, setCopied] = useState(false)\r\n    const { user: me } = useContext(ScreenContext)\r\n\r\n    useEffect(() => {\r\n        let isMounted = true\r\n        fetch(`${link}friends`, {\r\n            headers: {\r\n                Authorization: me.token\r\n            }\r\n        }).then(res => res.json())\r\n            .then(friends => {\r\n                if (isMounted) setFriends(friends)\r\n            })\r\n        return () => { isMounted = false }\r\n    }, [me])\r\n\r\n    const copy = () => navigator.clipboard.writeText(\"server/\" + server.invites[0]).then(() => {\r\n        setCopied(true)\r\n        setTimeout(() => setCopied(false), 5000)\r\n    })\r\n\r\n    return (\r\n        <div className={`invite-people-div ${animation}`}>\r\n            <div className=\"part-1\">\r\n                <h3>INVITE PEOPLE TO {server.name.toUpperCase()}</h3>\r\n                <input onChange={(e) => setFilter(e.target.value)} placeholder=\"Search for friends\" />\r\n                <Plus onClick={quit} size={25} />\r\n            </div>\r\n            <div className=\"part-2\">\r\n                {!friends && <p className=\"searching\">SEARCHING FOR FRIENDS</p>}\r\n                {friends && !friends.some(u => u.username.toLowerCase().includes(filter.toLowerCase())) && <p className=\"searching\">NO RESULTS WERE FOUND</p>}\r\n                {friends && friends.map(f => {\r\n                    const user = new User(f)\r\n                    const click = () => {\r\n                        if (ids.includes(user.id)) return\r\n                        setIds(prev => [...prev, user.id])\r\n                        fetch(`${link}dm/${user.id}`, {\r\n                            method: \"POST\",\r\n                            headers: {\r\n                                Authorization: me.token,\r\n                                \"Content-Type\": \"application/json\"\r\n                            },\r\n                            body: JSON.stringify({\r\n                                content: \"server/\" + server.invites[0]\r\n                            })\r\n                        })\r\n                            .catch(console.error)\r\n                    }\r\n                    if (filter && !user.username.toLowerCase().includes(filter.toLowerCase())) return null\r\n                    return (\r\n                        <div key={user.id} className=\"invite-friend\">\r\n                            <img alt={user.id} width=\"34\" height=\"34\" src={user.displayAvatarURL(80)} />\r\n                            <h5>{user.username}</h5>\r\n                            <button className={`${ids.includes(user.id) && \"invited\"}`} onClick={click}>{ids.includes(user.id) ? \"Sent\" : \"Invite\"}</button>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"part-3\">\r\n                <h4>OR, SEND A SERVER INVITE LINK TO A FRIEND</h4>\r\n                <div>\r\n                    <button className={`${copied ? \"copied\" : \"copy\"}`} onClick={copy}>{copied ? \"Copied\" : \"Copy\"}</button>\r\n                    <input readOnly={true} value={\"server/\" + server.invites[0]} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InvitePeople","import { useContext, useState } from \"react\";\r\nimport { ScreenContext } from \"../../app/message\"\r\nimport Utils from \"../../utils\"\r\nimport { link } from \"../../config.json\"\r\n\r\nconst toBase64 = file => new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n        const img = new Image()\r\n        img.onload = () => resolve(reader.result);\r\n        img.src = reader.result\r\n    }\r\n    reader.onerror = error => reject(error);\r\n});\r\n\r\n// I HATE THIS COMPONENT SO MUCH\r\nconst EditServer = ({ server, animation, quit }) => {\r\n    const [src, setSrc] = useState(server.displayIcon(100, 100))\r\n    const [name, setName] = useState(\"\")\r\n    const { user } = useContext(ScreenContext)\r\n    const handleNameChange = e => setName(e.target.value)\r\n    const handleFileChange = async e => {\r\n        const file = e.target.files[0]\r\n        const data = await toBase64(file).catch(() => 0)\r\n        if (data) setSrc(data)\r\n    }\r\n    const save = () => {\r\n        fetch(`${link}server/${server.id}`, {\r\n            method: \"PATCH\",\r\n            body: JSON.stringify({ icon: src, name }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: user.token\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={`dark-div ${animation}`}>\r\n            <Utils.Out click={quit}>\r\n                <div className={`edit-server ${animation}`}>\r\n                    <div className=\"server-edit-icon\">\r\n                        <img height=\"100\" width=\"100\" src={src} alt=\"icon\" />\r\n                        <label className=\"upload-button\" htmlFor=\"xx3\">Upload Image</label>\r\n                        <input id=\"xx3\" name=\"upload\" className=\"upload-file\" onChange={handleFileChange} type=\"file\"/>\r\n                    </div>\r\n                    <div className=\"server-info\">\r\n                        <h3>Edit Server</h3>\r\n                        <label htmlFor=\"bruh\">SERVER NAME</label>\r\n                        <input className=\"change-server-name\" onChange={handleNameChange} name=\"bruh\" defaultValue={server.name} />\r\n                        <button onClick={save}>Save</button>\r\n                    </div>\r\n                </div>\r\n            </Utils.Out>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditServer","import { useContext, useState } from \"react\";\r\nimport { ScreenContext } from \"../../app/message\";\r\nimport Plus from \"../../icons/plus\";\r\nimport { link } from \"../../config.json\"\r\nimport Hashtag from \"../../icons/hashtag\";\r\nimport Animate from \"../../app/animate\";\r\n\r\nconst CreateChannel = ({ server, quit }) => {\r\n    const { user } = useContext(ScreenContext)\r\n    const [settings, setSettings] = useState({ name: \"\", type: \"text\" })\r\n    const [waiting, setWaiting] = useState(\"\")\r\n\r\n    const handleInputChange = (e) => setSettings(prev => ({ name: e.target.value, type: prev.type }))\r\n    const selfAnimate = () => {\r\n        setWaiting(\"self-smaller\")\r\n        setTimeout(() => quit(), 100)\r\n    }\r\n\r\n    const create = async () => {\r\n        if (!settings.name) return\r\n        setWaiting(\"waiting\")\r\n        await fetch(`${link}servers/${server.id}/channels`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: user.token\r\n            },\r\n            body: JSON.stringify(settings)\r\n        })\r\n        selfAnimate()\r\n    }\r\n\r\n    return (\r\n        <Animate>\r\n            <div className={`invite-people-div animated-popup ${waiting}`}>\r\n                <div style={{ textAlign: 'center' }} className=\"part-1\">\r\n                    <h3 style={{ fontSize: '20px', marginTop: 30 }}>Create Text Channel</h3>\r\n                    <Plus onClick={selfAnimate} size={25} />\r\n                </div>\r\n                <div className=\"check-boxes\">\r\n                    <h5>CHANNEL TYPE</h5>\r\n                    <div className=\"check\">\r\n                        <div className=\"checker\" />\r\n                        <Hashtag size={28} />\r\n                        <div className=\"channel-type\">\r\n                            <h4>Text Channel</h4>\r\n                            <p>Post images, GIFs, opinions and puns</p>\r\n                        </div>\r\n                    </div>\r\n                    <h5>CHANNEL NAME</h5>\r\n                    <input onChange={handleInputChange} style={{ marginTop: 0, height: 35 }} className=\"change-server-name\" />\r\n                </div>\r\n                <div className=\"lower-section\">\r\n                    <button onClick={selfAnimate} className=\"generic-button cancel\">Cancel</button>\r\n                    <button onClick={create} className={`generic-button success ${!settings.name && \"cant-click\"}`}>Create Channel</button>\r\n                </div>\r\n            </div>\r\n        </Animate>\r\n    )\r\n}\r\n\r\nexport default CreateChannel\r\n","const createBlob = (base64str, contentType) => {\r\n    const byteCharacters = window.atob(base64str)\r\n    const byteNumbers = new Array(byteCharacters.length)\r\n    for (let i = 0; i < byteCharacters.length; i++) {\r\n        byteNumbers[i] = byteCharacters.charCodeAt(i)\r\n    }\r\n    const byteArray = new Uint8Array(byteNumbers)\r\n    const blob = new Blob([byteArray], { type: contentType })\r\n    return blob\r\n}\r\n\r\nexport default createBlob","import createBlob from \"../../../global/createBlob\"\r\nimport Plus from \"../../../icons/plus\"\r\nimport \"./index.css\"\r\n\r\nconst Attachments = ({ attachments, setAttachments }) => {\r\n    const deleteAttachment = index => setAttachments(prev => [...prev].filter((_, i) => i !== index))\r\n    return attachments.map(({ data, fileName }, i) => {\r\n        const blob = createBlob(data.split(\",\")[1], \"image/\" + fileName.split(\".\").pop())\r\n        const url = URL.createObjectURL(blob)\r\n        return (\r\n            <li className=\"attachment-item\" key={i} style={{ position: \"relative\" }}>\r\n                <button onClick={() => deleteAttachment(i)} className=\"attachment-delete\"><Plus size={15} /></button>\r\n                <img src={url} className=\"attachment-2\" alt=\"attachment\" />\r\n                <span className=\"attachment-name\">{fileName}</span>\r\n            </li>\r\n        )\r\n    })\r\n}\r\n\r\nexport default Attachments","import { useState, useLayoutEffect, useContext } from \"react\"\r\nimport Channel from \"../../classes/channel\"\r\nimport User from \"../../classes/user\"\r\nimport Plus from \"../../icons/plus\"\r\nimport { ScreenContext, socket } from \".\"\r\nimport { link } from \"../../config.json\"\r\nimport SkeletonLoadingMessage from \"../../icons/bones\"\r\nimport MemberLoading from \"../../icons/members\"\r\nimport Down from \"../../icons/down\"\r\nimport Utils from \"../../utils\"\r\nimport InvitePeople from \"../../classes/server/invite-people\"\r\nimport EditServer from \"../../classes/server/server-editor\"\r\nimport CreateChannel from \"../../classes/channel/create-channel\"\r\nimport Input from \"../../global/input\"\r\nimport Footer from \"../../classes/user/footer\"\r\nimport Messages from \"../../classes/message/messagesMapper\"\r\nimport Hashtag from \"../../icons/hashtag\"\r\nimport Animate from \"../animate\"\r\nimport Attachments from \"./attachmentManager/\"\r\nimport createMessage from \"./sendMessage\"\r\nimport handleSocketEvents from \"./handleSocketEvents\"\r\nimport PreviousQueries from \"../../cache\"\r\n\r\nconst toBase64 = file => new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n        const img = new Image()\r\n        img.onload = () => resolve(reader.result);\r\n        img.src = reader.result\r\n    }\r\n    reader.onerror = error => reject(error);\r\n});\r\n\r\nconst Main = ({ user, server, onJoin }) => {\r\n    const { setView } = useContext(ScreenContext)\r\n    const me = new User(user)\r\n    const [channel, setChannel] = useState()\r\n    const [messages, setMessages] = useState()\r\n    const [members, setMembers] = useState([])\r\n    const [attachments, setAttachments] = useState([])\r\n    const click = (ch) => {\r\n        if (channel.id !== ch.id) setChannel(ch)\r\n    }\r\n    useLayoutEffect(() => {\r\n        let isMounted = true\r\n        setMessages()\r\n        try {\r\n            const ch = new Channel(server.channels[0], server)\r\n            if (ch) setChannel(ch)\r\n        } catch {\r\n            const ch = new Channel({ name: \"unknown\" })\r\n            setMessages([])\r\n            setChannel(ch)\r\n        }\r\n        setMembers([])\r\n        server.fetchMembers(\"no-cache\").then(members => {\r\n            if (!isMounted) return\r\n            setMembers(members)\r\n            socket.on(\"online\", user => handleSocketEvents.memberOnline(setMembers, user))\r\n        })\r\n        return () => {\r\n            socket.off(\"online\")\r\n            isMounted = false\r\n        }\r\n    }, [server, me.token])\r\n\r\n    useLayoutEffect(() => {\r\n        if (!channel || !channel?.id) return\r\n        let isMounted = true\r\n        if (!PreviousQueries.channels[channel.id]) setMessages()\r\n        channel.join(socket, me.token)\r\n        channel.fetchMessages(me.token)\r\n            .then(({ messages }) => {\r\n                if (isMounted) setMessages(messages)\r\n            })\r\n        PreviousQueries.init()\r\n        const messageListener = msg => {\r\n            if (!isMounted || msg.author._id === me.id) return\r\n            if (channel.id !== msg.channel) return\r\n            handleSocketEvents.message(setMessages, msg)\r\n        }\r\n        const messageDeleteListener = msg => {\r\n            if (!isMounted) return\r\n            if (msg.channel === channel.id) handleSocketEvents.messageDelete(setMessages, msg)\r\n        }\r\n        const editListener = msg => (msg.channel === channel.id) && handleSocketEvents.messageEdit(setMessages, msg)\r\n        const memberUpdateListener = user => handleSocketEvents.memberUpdate(setMembers, setMessages, user)\r\n        socket.on(\"message\", messageListener)\r\n        socket.on(\"messageDelete\", messageDeleteListener)\r\n        socket.on(\"messageEdit\", editListener)\r\n        socket.on(\"memberUpdate\", memberUpdateListener)\r\n        return () => {\r\n            isMounted = false\r\n            socket.off(\"message\", messageListener)\r\n                .off(\"messageDelete\", messageDeleteListener)\r\n                .off(\"memberUpdate\", memberUpdateListener)\r\n                .off(\"messageEdit\", editListener)\r\n        }\r\n    }, [channel, me.id, me.token])\r\n\r\n\r\n    const sendMessage = (k) => createMessage(k, user, channel, setMessages, attachments, setAttachments)\r\n    const sendImage = (file) => {\r\n        if (!file.data) return\r\n        setAttachments([file])\r\n    }\r\n    const getImageFromInput = async (e) => {\r\n        const base64str = await toBase64(e.target.files[0]).catch(() => 0)\r\n        sendImage({ data: base64str, fileName: e.target.files[0]?.name })\r\n        e.target.value = \"\"\r\n    }\r\n    const getImageFromPaste = async (e) => {\r\n        const items = e.clipboardData.items\r\n        const file = items[1]?.getAsFile();\r\n        const base64str = await toBase64(file).catch(() => 0)\r\n        sendImage({ data: base64str, fileName: file?.name })\r\n    }\r\n    const dropFile = async (e) => {\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n        const items = e.dataTransfer.items\r\n        const file = items[0]?.getAsFile();\r\n        const base64str = await toBase64(file).catch(() => 0)\r\n        sendImage({ data: base64str, fileName: file?.name })\r\n    }\r\n\r\n    const [skeleton, setSkeleton] = useState()\r\n    useLayoutEffect(() => {\r\n        if (!messages && !PreviousQueries.channels[channel?.id]) {\r\n            setSkeleton(<SkeletonLoadingMessage />)\r\n        }\r\n        else setSkeleton()\r\n    }, [messages, channel])\r\n\r\n    const [menu, setMenu] = useState()\r\n\r\n    const invite = () => {\r\n        setMenu(false)\r\n        const quit = () => {\r\n            setView(<IP animation=\"smaller\" />)\r\n            setTimeout(() => setView(), 100)\r\n        }\r\n        const IP = ({ animation }) => {\r\n            return (\r\n                <div className={`dark-div ${animation}`}>\r\n                    <Utils.Out click={quit}>\r\n                        <InvitePeople animation={animation} quit={quit} server={server} />\r\n                    </Utils.Out>\r\n                </div>\r\n            )\r\n        }\r\n        setView(<IP animation=\"bigger\" />)\r\n    }\r\n    const leave = () => {\r\n        fetch(`${link}leave/${server.id}`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                Authorization: me.token\r\n            }\r\n        })\r\n    }\r\n    const createNewChannel = () => {\r\n        setMenu(false)\r\n        setView(<CreateChannel server={server} quit={() => setView()} animation=\"bigger\" />)\r\n    }\r\n\r\n    const serverSettings = () => {\r\n        setMenu(false)\r\n        const quit = () => {\r\n            setView(<EditServer server={server} quit={quit} animation=\"smaller\" />)\r\n            setTimeout(() => setView(), 100)\r\n        }\r\n        setView(<EditServer server={server} quit={quit} animation=\"bigger\" />)\r\n    }\r\n\r\n    const clickMenu = () => {\r\n        setMenu(true)\r\n        setView(\r\n            <Animate quit={() => setMenu(false)} normal type={1}>\r\n                <div className={`server-menu animated-popup`}>\r\n                    {server.owner === user._id && <>\r\n                        <p onClick={serverSettings}>Server Settings</p>\r\n                        <p onClick={createNewChannel}>Create Channel</p></>}\r\n                    <p onClick={invite} className=\"invite-people\">Invite People</p>\r\n                    {server.owner !== user._id && <><div className=\"separator\"></div>\r\n                        <p onClick={leave} className=\"leave-server\">Leave Server</p></>}\r\n                </div>\r\n            </Animate>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main onDragOver={e => e.preventDefault()} onDrop={dropFile} className=\"flexible-container\">\r\n            <section className=\"left-part\">\r\n                <header onClick={clickMenu} className={`server-name ${menu && \"server-name-2\"}`}>\r\n                    <span>{server.name}</span>\r\n                    <Down size=\"23\" />\r\n                </header>\r\n                {menu}\r\n                <div className=\"channels\">\r\n                    <div style={{ marginBottom: 10 }} />\r\n                    <h4 className=\"direct-messages\">TEXT CHANNELS</h4>\r\n                    {Channel.LoadChannels(server?.channels || [], server, click)}\r\n                </div>\r\n                <Footer setView={setView} />\r\n            </section>\r\n            <section className=\"messages\">\r\n                <div className=\"name\">{channel?.toTitle()}</div>\r\n                <div className=\"messages-main\">\r\n                    <div className=\"chat\">\r\n                        {skeleton}\r\n                        <ul className=\"fetched-messages\">\r\n                            <div className=\"dm-start\">\r\n                                <div className=\"dm-avatar channel-icon\"><Hashtag size=\"50\" /></div>\r\n                                <h3 className=\"dm-username\">{channel?.name}</h3>\r\n                                <p className=\"dumb-text-2\">This is the start of <span>#{channel?.name}</span> message history.</p>\r\n                            </div>\r\n                            {messages && <Messages server={server} onJoin={onJoin} me={user} messages={messages} setView={setView} setMessages={setMessages} />}\r\n                        </ul>\r\n                    </div>\r\n                    <form onSubmit={e => e.preventDefault()} className=\"send-message\">\r\n                        <div className=\"controll\">\r\n                            <div className=\"message-manager\">\r\n                                <ul className={`attachment-list ${attachments.length && \"has-children\"}`}>\r\n                                    <Attachments setAttachments={setAttachments} attachments={attachments} />\r\n                                </ul>\r\n                                <div className=\"text-content\">\r\n                                    <div className=\"file\">\r\n                                        <button className=\"attach-file\">\r\n                                            <input type=\"file\" onChange={getImageFromInput} />\r\n                                            <Plus size={10} />\r\n                                        </button>\r\n                                    </div>\r\n                                    <Input renderId={channel?.id} placeholder={`Send a message to ${channel?.name}`} onPaste={getImageFromPaste} onKeyDown={sendMessage} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className=\"users\">\r\n                    {members.length === 0 &&\r\n                        <div style={{ marginTop: 20 }}>\r\n                            <MemberLoading times={server?.members?.length || 10} />\r\n                        </div>\r\n                    }\r\n                    <User.MapMembers me={user} setView={setView} members={members} server={server} />\r\n                </div>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\n\r\nexport default Main","function EmbedHomeButton() {\r\n    return (\r\n        <svg width=\"36\" height=\"36\" version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\"\r\n            viewBox=\"0 0 24 24\">\r\n            <linearGradient id=\"svg-gradient\" gradientUnits=\"userSpaceOnUse\" x1=\"2.8461\" y1=\"11.7055\" x2=\"22.1588\" y2=\"11.7055\">\r\n                <stop offset=\"0\" style={{ stopColor: \"var(--purple-no-gradient)\" }} />\r\n                <stop offset=\"1\" style={{ stopColor: \"var(--blue)\" }} />\r\n            </linearGradient>\r\n            <path className=\"st0\" d=\"M12.5,7.1l-6.9,5.7c0,0,0,0,0,0c0,0,0,0,0,0v5.7c0,0.2,0.1,0.4,0.2,0.5c0.2,0.2,0.3,0.2,0.5,0.2H11v-4.6H14v4.6\r\n\th4.6c0.2,0,0.4-0.1,0.5-0.2c0.2-0.2,0.2-0.3,0.2-0.5v-5.7c0,0,0-0.1,0-0.1L12.5,7.1z M22,11.5l-2.6-2.2V4.4c0-0.1,0-0.2-0.1-0.3\r\n\tc-0.1-0.1-0.2-0.1-0.3-0.1h-2.3c-0.1,0-0.2,0-0.3,0.1c-0.1,0.1-0.1,0.2-0.1,0.3v2.3l-2.9-2.4C13.2,4.1,12.9,4,12.5,4\r\n\tc-0.4,0-0.7,0.1-0.9,0.3L3,11.5c-0.1,0.1-0.1,0.1-0.1,0.3c0,0.1,0,0.2,0.1,0.3l0.7,0.9C3.7,13,3.8,13,3.9,13.1c0.1,0,0.2,0,0.3-0.1\r\n\tl8.3-6.9l8.3,6.9c0.1,0.1,0.1,0.1,0.3,0.1h0c0.1,0,0.2-0.1,0.3-0.1l0.7-0.9c0.1-0.1,0.1-0.2,0.1-0.3C22.1,11.7,22.1,11.6,22,11.5z\"\r\n            />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default EmbedHomeButton","import { useState } from \"react\";\r\nimport Plus from \"../../icons/plus\";\r\nimport Animate from \"../../app/animate\";\r\nimport { link } from \"../../config.json\"\r\n\r\nconst Add = ({ view, onCreate, user }) => {\r\n    const [clicked, setClicked] = useState(\"\")\r\n    const toBase64 = file => new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n\r\n    const Creator = () => {\r\n        const defaultName = `${user.username}'s server`\r\n        const [value, setValue] = useState(defaultName)\r\n        const [image, setImage] = useState(``)\r\n        const [animation, setAnimation] = useState(\"bigger\")\r\n\r\n        const handleChange = async (e) => {\r\n            toBase64(e.target.files[0])\r\n                .then(data => setImage(data))\r\n                .catch(console.log)\r\n        }\r\n\r\n        const del = () => {\r\n            setClicked(\"\")\r\n            setAnimation(\"self-smaller\")\r\n            setTimeout(() => view(), 100)\r\n        }\r\n\r\n        const createServer = async () => {\r\n            const server = await fetch(`${link}servers`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: user.token,\r\n                },\r\n                body: JSON.stringify({\r\n                    icon: image,\r\n                    name: value\r\n                })\r\n            }).then(res => res.json())\r\n            del()\r\n            onCreate?.(server)\r\n        }\r\n\r\n        return (\r\n            <Animate quit={() => setClicked(\"\")}>\r\n                <div className={`creator animated-popup ${animation}`}>\r\n                    <div className=\"view-server\">\r\n                        <Plus onClick={del} size={25} />\r\n                        <h2>Create a new Server</h2>\r\n                        <p className=\"dummy-text\">Create a new Server, customize it! Invite your friends to it. And have a good time.</p>\r\n                        <div className=\"selector\">\r\n                            <img className=\"my-icon\" alt=\"\" src={image} />\r\n                            <input onChange={handleChange} className=\"select-icon\" type=\"file\" />\r\n                        </div>\r\n                    </div>\r\n                    <label htmlFor=\"server\">SERVER NAME</label>\r\n                    <input required name=\"server\" defaultValue={defaultName} onChange={(event) => setValue(event.target.value)} className=\"select-server-name\" />\r\n                    <div style={{ backgroundColor: \"rgb(231, 239, 247)\" }} className=\"lower-section\">\r\n                        <button style={{ color: \"black\", marginRight: \"auto\", marginLeft: 0 }} onClick={del} className=\"generic-button cancel\">Back</button>\r\n                        <button onClick={createServer} className=\"generic-button primary\">Create</button>\r\n                    </div>\r\n                </div>\r\n            </Animate>\r\n        )\r\n    }\r\n\r\n    const click = () => {\r\n        setClicked(\"clicked\")\r\n        view(<Creator />)\r\n    }\r\n\r\n    return (\r\n        <div className={`server-block ${clicked}`}>\r\n            <div onClick={click} className=\"server\">\r\n                <div title=\"Add a Server\" className=\"add-server\">\r\n                    <Plus size={23} />\r\n                </div>\r\n            </div>\r\n            <div className=\"server-marker\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Add","import { useEffect, useMemo, useRef, useState } from \"react\"\r\nimport \"./imageCropper.css\"\r\n\r\nconst ImageCropper = ({ src, onChange }) => {\r\n    const canvasRef = useRef()\r\n    const rangeRef = useRef()\r\n    const lastPoint = { x: 0, y: 0 }\r\n    const [size, setSize] = useState([0, 0, 1])\r\n    const speed = 0.65\r\n    const canvasSize = useMemo(() => ({ width: 568, height: 361 }), [])\r\n    let coordinates = useMemo(() => [0, 0], [])\r\n    let isDragging = false\r\n    const calculator = () => ((rangeRef.current.value / 100) + 10) * size[2] * speed\r\n    const hoverListener = (e) => {\r\n        if (!isDragging) return\r\n        if (e.clientX > lastPoint.x) coordinates[0] += calculator()\r\n        if (e.clientX < lastPoint.x) coordinates[0] -= calculator()\r\n        if (e.clientY > lastPoint.y) coordinates[1] += calculator()\r\n        if (e.clientY < lastPoint.y) coordinates[1] -= calculator()\r\n        lastPoint.y = e.clientY\r\n        lastPoint.x = e.clientX\r\n    }\r\n    useEffect(() => {\r\n        let isMounted = true\r\n        const img = new Image()\r\n        const canvas = canvasRef.current\r\n        img.onload = () => {\r\n            const maxSize = Math.min(img.width, img.height)\r\n            const imgToSize = maxSize / canvasSize.height\r\n            canvas.height = canvasSize.height * imgToSize\r\n            canvas.width = canvasSize.width * imgToSize\r\n            if (isMounted) setSize([img.width / imgToSize, img.height / imgToSize, imgToSize])\r\n            const ctx = canvas.getContext(\"2d\")\r\n            const draw = () => {\r\n                if (!canvas || !rangeRef.current) return\r\n                const factor = rangeRef.current.value / 100\r\n                const x = img.width - (img.width * factor)\r\n                const y = img.height - (img.height * factor)\r\n                const radius = maxSize / 2\r\n                const limitX = img.width / 2 - radius\r\n                const limitY = img.height / 2 - radius\r\n                const minX = Math.min(coordinates[0], limitX + (img.width * (factor - 1)))\r\n                const maxX = minX * -1 < limitX ? minX : limitX * -1\r\n                coordinates[0] = maxX\r\n                const minY = Math.min(coordinates[1], limitY + (img.height * (factor - 1)))\r\n                const maxY = minY * -1 < limitY ? minY : limitY * -1\r\n                coordinates[1] = maxY\r\n                const position = [x + maxX + (canvas.width - img.width) / 2, y + maxY + (canvas.height - img.height) / 2]\r\n                ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n                ctx.beginPath()\r\n                ctx.drawImage(img, position[0], position[1], img.width * factor + 1, img.height * factor + 1)\r\n                onChange(canvas)\r\n                requestAnimationFrame(draw)\r\n            }\r\n            draw()\r\n        }\r\n        img.src = src\r\n        return () => isMounted = false\r\n    }, [src, coordinates, onChange, canvasSize])\r\n\r\n    const handleMouseDown = () => isDragging = true\r\n    const handleMouseUp = () => isDragging = false\r\n\r\n    return (\r\n        <>\r\n            <div className=\"cropper\">\r\n                <canvas style={{ background: \"black\", ...canvasSize }} onMouseOut={handleMouseUp} onMouseUp={handleMouseUp} onMouseDown={handleMouseDown} onMouseMove={hoverListener} ref={canvasRef}></canvas>\r\n                <div style={{ width: Math.min(size[0], size[1]), height: Math.min(size[0], size[1]) }} className=\"circle-border\"></div>\r\n            </div>\r\n            <input className=\"zoom-range\" defaultValue={100} ref={rangeRef} max={200} min={100} type=\"range\" />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageCropper","import { useState } from \"react\"\r\nimport ImageCropper from \"./imageCropper\"\r\nimport \"./editImage.css\"\r\nimport Animate from \"../app/animate\"\r\n\r\nconst SubComponent = ({ src, onComplete, cancel }) => {\r\n    const [data, setData] = useState()\r\n\r\n    const complete = () => {\r\n        onComplete(data.toDataURL(\"image/webp\"))\r\n    }\r\n    const skip = () => onComplete(src)\r\n\r\n    return (\r\n        <Animate>\r\n            <div className=\"edit-image animated-popup\">\r\n                <h2>Edit Image</h2>\r\n                <ImageCropper style={{ maxHeight: 400, maxWidth: 400 }} onChange={setData} src={src} />\r\n                <div className=\"lower-section\">\r\n                    <button style={{ marginLeft: 10 }} onClick={skip} className=\"skip generic-button cancel\">Skip</button>\r\n                    <button style={{ marginLeft: \"auto\" }} onClick={cancel} className=\"edit-image-cancel generic-button cancel\">Cancel</button>\r\n                    <button style={{ marginRight: 1 }} onClick={complete} className=\"edit-image-complete generic-button primary\">Apply</button>\r\n                </div>\r\n            </div>\r\n        </Animate>\r\n    )\r\n}\r\n\r\nexport default SubComponent","const isGif = (base64str) => {\r\n    const byteCharacters = window.atob(base64str.split(\",\")[1])\r\n    const byteNumbers = new Array(byteCharacters.length)\r\n    for (let i = 0; i < byteCharacters.length; i++) {\r\n        byteNumbers[i] = byteCharacters.charCodeAt(i)\r\n    }\r\n    const byteArray = new Uint8Array(byteNumbers)\r\n    if (byteArray[0] !== 0x47 || byteArray[1] !== 0x49 || byteArray[2] !== 0x46 || byteArray[3] !== 0x38) return false\r\n    return true\r\n}\r\n\r\nexport default isGif","import { useState, useContext, useMemo, useRef, useEffect } from \"react\"\r\nimport Login from \"../../app/login\"\r\nimport { ScreenContext } from \"../../app/message\"\r\nimport { Update } from \"../../app\"\r\nimport SubComponent from \"../../global/editImage\"\r\nimport isGif from \"../../global/isGif\"\r\nimport \"./userSettings.css\"\r\nimport User from \".\"\r\nimport Plus from \"../../icons/plus\"\r\nimport Animate from \"../../app/animate\"\r\nimport UserJSX from \"./user\"\r\n\r\nconst toBase64 = file => new Promise((resolve, reject) => {\r\n    const reader = new FileReader()\r\n    reader.readAsDataURL(file)\r\n    reader.onload = () => {\r\n        const img = new Image()\r\n        img.onload = () => resolve(reader.result)\r\n        img.src = reader.result\r\n    }\r\n    reader.onerror = error => reject(error)\r\n})\r\n\r\nconst EditUsername = ({ user, onChange }) => {\r\n    const { setView } = useContext(ScreenContext)\r\n    const [newName, setNewName] = useState(user.username)\r\n    const changeUsername = e => {\r\n        e.preventDefault()\r\n        onChange(prev => Object.assign({}, prev, { username: newName }))\r\n        setView()\r\n    }\r\n\r\n    return (\r\n        <Animate>\r\n            <div style={{ width: 450, overflow: 'hidden', borderRadius: 5 }} className=\"edit-username generic-popup animated-popup\">\r\n                <h2 style={{ marginBottom: \"0.5em\" }}>Change your username</h2>\r\n                <span style={{ color: \"var(--font-secondary)\", marginBottom: \"0.6em\" }} className=\"dumb-text-2\">Enter a new username and your current password</span>\r\n                <form style={{ display: \"flex\", flexDirection: \"column\", width: \"100%\" }}>\r\n                    <div className=\"content-wrapper\">\r\n                        <label className=\"generic-label\" htmlFor=\"new-username\">USERNAME</label>\r\n                        <input onChange={e => setNewName(e.target.value)} autoComplete=\"off\" style={{ marginBottom: \"0.8em\" }} type=\"text\" defaultValue={user.username} id=\"new-username\" className=\"new-username generic-input\" />\r\n                        <label className=\"generic-label\" htmlFor=\"current-password\">PASSWORD</label>\r\n                        <input autoComplete=\"off\" type=\"password\" id=\"current-password\" className=\"generic-input current-password\" />\r\n                    </div>\r\n                    <div className=\"lower-section\">\r\n                        <button type=\"button\" className=\"generic-button cancel\">Cancel</button>\r\n                        <button onClick={changeUsername} type=\"submit\" className=\"generic-button primary\">Done</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </Animate>\r\n    )\r\n}\r\n\r\nconst MyAccount = ({ user, setButton, onChange, changes }) => {\r\n    const { setView } = useContext(ScreenContext)\r\n    const click = () => setView(<EditUsername onChange={onChange} user={user} />)\r\n\r\n    return (\r\n        <div className=\"my-account\">\r\n            <h2 className=\"my-account-header\">My Account</h2>\r\n            <div className=\"my-settings\">\r\n                <div style={{ backgroundColor: user.profileColor }} className=\"profile-color\"></div>\r\n                <div className=\"section-17\">\r\n                    <div className=\"section-721\">\r\n                        <div className=\"my-avatar-wrapper\">\r\n                            <img height=\"80\" width=\"80\" className=\"avatar-352\" src={user.displayAvatarURL(90)} alt=\"my-icon\" />\r\n                            <div className=\"status\"></div>\r\n                        </div>\r\n                        <h5 className=\"username-382\">{changes.username || user.username}</h5>\r\n                        <button onClick={setButton(1)} style={{ marginLeft: \"auto\" }} className=\"generic-button primary button-121\">Edit User Profile</button>\r\n                    </div>\r\n                    <div className=\"section-832\">\r\n                        <div className=\"username-77 flex-line\">\r\n                            <div>\r\n                                <h5 className=\"field-title\">USERNAME</h5>\r\n                                <div className=\"div-410\"><span>{changes.username || user.username}</span><span className=\"text-info\">{user.tag}</span></div>\r\n                            </div>\r\n                            <button onClick={click} style={{ color: \"var(--font-primary)\", marginLeft: \"auto\" }} className=\"generic-button secondary\">Edit</button>\r\n                        </div>\r\n                        <div className=\"email-10 flex-line\">\r\n                            <div>\r\n                                <h5 className=\"field-title\">EMAIL</h5>\r\n                                <div className=\"div-410\">{user.email}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"phone-number-47 flex-line\">\r\n                            <div>\r\n                                <h5 className=\"field-title\">PHONE NUMBER</h5>\r\n                                <div className=\"text-info\">This app doesn't support phone numbers</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UserProfile = ({ user, onChange, changes }) => {\r\n    const { setView, user: me } = useContext(ScreenContext)\r\n    const [src, setSrc] = useState(user.displayAvatarURL(90))\r\n    const [color, setColor] = useState(user.profileColor)\r\n    const fileInput = useRef()\r\n    const colorInput = useRef()\r\n    const handleInputChange = async (e) => {\r\n        const file = e.target.files[0]\r\n        const data = await toBase64(file).catch(() => 0)\r\n        e.target.value = \"\"\r\n        if (!data) return\r\n        if (isGif(data)) {\r\n            onChange(prev => Object.assign({}, prev, { src: data }))\r\n            return setSrc(data)\r\n        }\r\n        if (data) {\r\n            const complete = data => {\r\n                setView()\r\n                setSrc(data)\r\n                onChange(prev => Object.assign({}, prev, { src: data }))\r\n            }\r\n            const cancel = () => {\r\n                setView()\r\n                setSrc(user.displayAvatarURL(150))\r\n            }\r\n            setView(<SubComponent src={data} cancel={cancel} onComplete={complete} />)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const oldUser = new User(me)\r\n        if (!changes.src) setSrc(oldUser.displayAvatarURL(80))\r\n        if (!changes.profileColor) setColor(oldUser.profileColor)\r\n    }, [changes, me])\r\n\r\n    const handleColorChange = e => {\r\n        setColor(e.target.value)\r\n        onChange(prev => Object.assign({}, prev, { profileColor: e.target.value }))\r\n    }\r\n\r\n    const goToDefault = () => onChange(prev => Object.assign({}, prev, { profileColor: \"#000\" }))\r\n\r\n    const supportedImages = \"image/gif,image/png,image/jpeg,image/webp\"\r\n\r\n    return (\r\n        <div className=\"user-profile\">\r\n            <h2 className=\"my-account-header\">User Profile</h2>\r\n            <div className=\"section-559\">\r\n                <div className=\"section-560\">\r\n                    <div className=\"section-700\">\r\n                        <h5 className=\"preview-2\">AVATAR</h5>\r\n                        <button onClick={() => fileInput.current?.click()} style={{ marginLeft: 0 }} className=\"generic-button primary\">Change Avatar</button>\r\n                    </div>\r\n                    <div className=\"user-color\">\r\n                        <h5 className=\"preview-2\">PROFILE COLOR</h5>\r\n                        <div className=\"profile-color-selector\">\r\n                            <div className=\"profile-color-option\">\r\n                                <div onClick={goToDefault} className=\"default-profileColor\"></div>\r\n                                <span>Default</span>\r\n                            </div>\r\n                            <div className=\"profile-color-option\">\r\n                                <div onClick={() => colorInput.current?.click()} style={{ backgroundColor: color }} className=\"custom-profileColor\">\r\n                                    <input defaultValue={user.profileColor} onChange={handleColorChange} ref={colorInput} style={{ visibility: \"hidden\" }} type=\"color\" />\r\n                                </div>\r\n                                <span>Custom</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"section-561\">\r\n                    <h5 className=\"preview-2\">PREVIEW</h5>\r\n                    <UserJSX onClick={() => fileInput.current?.click()} editable style={{ position: \"relative\", animation: \"none\" }} user={Object.assign({}, user, { displayAvatarURL() { return src }, profileColor: color })} />\r\n                </div>\r\n                <input accept={supportedImages} style={{ display: \"none\" }} ref={fileInput} onChange={handleInputChange} type=\"file\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Appearance = () => {\r\n    const { setTheme } = useContext(ScreenContext)\r\n    const [currentTheme, setCurrentTheme] = useState(localStorage.getItem(\"theme\") || \"light\")\r\n    const switchTo = (theme) => () => {\r\n        setTheme(theme)\r\n        localStorage.setItem(\"theme\", theme)\r\n        setCurrentTheme(theme)\r\n    }\r\n    return (\r\n        <div>\r\n            <h2 className=\"my-account-header\">Appearance</h2>\r\n            <h5 className=\"preview-2\">THEME</h5>\r\n            <div className=\"check-list\">\r\n                <div className=\"check\" onClick={switchTo(\"dark\")}>\r\n                    <div className={`checker ${currentTheme !== \"dark\" && \"unchecked\"}`}></div>\r\n                    <h5 className=\"generic-header-5\">Dark</h5>\r\n                </div>\r\n                <div className=\"check\" onClick={switchTo(\"light\")}>\r\n                    <div className={`checker ${currentTheme !== \"light\" && \"unchecked\"}`}></div>\r\n                    <h5 className=\"generic-header-5\">Light</h5>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Render = ({ componentId, user, setButton, onChange, changes }) => {\r\n    switch (componentId) {\r\n        case 0: return <MyAccount changes={changes} onChange={onChange} setButton={setButton} user={user} />\r\n        case 1: return <UserProfile changes={changes} onChange={onChange} user={user} />\r\n        case 2: return <Appearance />\r\n        default: return null\r\n    }\r\n}\r\n\r\n\r\nfunction UserSettings() {\r\n    const { setShowSettings, setUser, user: me } = useContext(ScreenContext)\r\n    const user = useMemo(() => new User(me), [me])\r\n    const [changes, setChanges] = useState({})\r\n    const [button, setButton] = useState(0)\r\n    const [animation, setAnimation] = useState(\"\")\r\n    const update = useContext(Update)\r\n\r\n    const logout = () => update(<Login update={update} />)\r\n\r\n    const edit = () => {\r\n        if (!Object.keys(changes).length) return\r\n        user.edit(changes.username, changes.src, changes.profileColor).then(u => {\r\n            setUser(Object.assign({}, user, u))\r\n            setChanges({})\r\n        })\r\n    }\r\n\r\n    const reset = () => setChanges({})\r\n\r\n    const quit = () => {\r\n        setAnimation(\"is-being-removed\")\r\n        setShowSettings(\"\")\r\n        setTimeout(() => setShowSettings(false), 150)\r\n    }\r\n\r\n    const getButton = (button) => () => !Object.keys(changes).length && setButton(button)\r\n    const isClicked = (btn) => `generic-button ${btn === button && \"clicked\"}`\r\n\r\n    return (\r\n        <div className={`settings ${animation}`}>\r\n            <div className=\"settings-left\">\r\n                <div className=\"scrollable-content\">\r\n                    <nav className=\"navigate-settings\">\r\n                        <div>\r\n                            <h5 className=\"generic-label header-82\">USER SETTINGS</h5>\r\n                            <button onClick={getButton(0)} className={isClicked(0)}>My Account</button>\r\n                            <button onClick={getButton(1)} className={isClicked(1)}>User Profile</button>\r\n                            <div className=\"seperator\"></div>\r\n                            <h5 className=\"generic-label header-82\">APP SETTINGS</h5>\r\n                            <button onClick={getButton(2)} className={isClicked(2)}>Appearance</button>\r\n                            <button onClick={logout} className=\"generic-button error\">Logout</button>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n            <div className=\"main-content\">\r\n                <div className=\"parameters\">\r\n                    <Render changes={changes} onChange={setChanges} setButton={getButton} componentId={button} user={user} />\r\n                    <div className=\"edit-check\">\r\n                        <div style={{ overflow: \"hidden\" }}>\r\n                            <div className={`confirm-edit ${!!Object.keys(changes).length && \"is-edited\"}`}>\r\n                                <span className=\"dumb-text\">Careful - you have unsaved changes!</span>\r\n                                <button onClick={reset} className=\"reset generic-button cancel\">Reset</button>\r\n                                <button className=\"generic-button success\" onClick={edit}>Save Changes</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div onClick={quit} className=\"return\"><Plus size={17} /></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserSettings","import { useEffect, useState, createContext } from \"react\"\r\nimport Server from \"../../classes/server\"\r\nimport \"./index.css\"\r\nimport Main from \"./message\"\r\nimport { link } from \"../../config.json\"\r\nimport { io } from \"socket.io-client\"\r\nimport Home from \"./home\"\r\nimport HomeIcon from \"../../icons/home\"\r\nimport Login from \"../login\"\r\nimport User from \"../../classes/user\"\r\nimport \"../genericstyles.css\"\r\nimport Add from \"../../classes/server/addServer\"\r\nimport UserSettings from \"../../classes/user/user-settings\"\r\nimport PreviousQueries from \"../../cache\"\r\n\r\nexport const ScreenContext = createContext()\r\nexport const socket = io(link, { transports: ['websocket', 'polling', 'flashsocket'] })\r\n\r\nconst notificationSound = new Audio(\"./notification.mp3\")\r\n\r\nconst Message = ({ user: me, update, dm }) => {\r\n    const [showSettings, setShowSettings] = useState(false)\r\n    const [user, setUser] = useState(me)\r\n    const [server, setServer] = useState()\r\n    user.notifications?.forEach(n => n.saved = true)\r\n    const [notifications, setNotifications] = useState(user.notifications || [])\r\n    const [servers, setServers] = useState(user.servers)\r\n\r\n    useEffect(() => {\r\n        socket.connect()\r\n        socket.emit(\"online\", me.token)\r\n        socket.on(\"disconnect\", () => {\r\n            update(<Login update={update} />)\r\n        })\r\n        socket.on(\"notification\", (notification) => {\r\n            notificationSound.play()\r\n            if (notification.type === \"dm\") setNotifications(prev => [...prev, notification])\r\n        })\r\n        socket.on(\"leave\", (server) => {\r\n            setServer()\r\n            setUser(prev => Object.assign(prev, { servers: [...prev.servers].filter(s => s._id !== `${server._id}`) }))\r\n            setServers(prev => [...prev].filter(s => s._id !== `${server._id}`))\r\n        })\r\n        socket.on(\"channelCreate\", (channel) => {\r\n            setServers(prev => {\r\n                const servers = [...prev]\r\n                const server = servers.find(s => s._id === channel.server)\r\n                server.channels.push(channel)\r\n                return servers\r\n            })\r\n        })\r\n        return () => {\r\n            socket.off(\"disconnect\").off(\"notification\").off(\"channelCreate\")\r\n            socket.disconnect()\r\n            PreviousQueries.clear()\r\n        }\r\n    }, [me, update])\r\n\r\n    const [theme, setTheme] = useState(localStorage.getItem(\"theme\") || \"light\")\r\n    const [screen, setScreen] = useState(<Home user={user} update={update} />)\r\n    const click = (s) => {\r\n        if (server?.id === s.id) return\r\n        setServer(s)\r\n    }\r\n    const handlenewServer = (user, server) => {\r\n        user.servers.push(server)\r\n        setServers(user.servers)\r\n        const s = new Server(server, user)\r\n        setServer(s)\r\n    }\r\n    const create = (server) => handlenewServer(user, server)\r\n    const [view, setView] = useState()\r\n\r\n    useEffect(() => {\r\n        const join = (server) => handlenewServer(user, server)\r\n        if (server) setScreen(<Main socket={socket} onJoin={join} update={update} server={server} user={user} />)\r\n        else setScreen(<Home onJoin={join} dm={dm} user={user} update={update} />)\r\n        socket.on(\"serverUpdate\", server => {\r\n            setServers(prev => {\r\n                const servers = [...prev]\r\n                const sv = servers.find(s => s._id === server._id.toString())\r\n                sv.icon = server.icon\r\n                sv.name = server.name\r\n                return servers\r\n            })\r\n        })\r\n        return () => socket.off(\"serverUpdate\")\r\n    }, [server, update, user, dm])\r\n\r\n    const homeClick = () => server && setServer()\r\n\r\n    const index = () => {\r\n        const iserver = user.servers.find(s => s._id === server?.id)\r\n        return user.servers.indexOf(iserver)\r\n    }\r\n\r\n    const providerValue = { setScreen, setServer, setUser, not: [notifications, setNotifications], user, setTheme, setView, setShowSettings }\r\n\r\n    return (\r\n        <ScreenContext.Provider value={providerValue}>\r\n            <div className={`platform ${showSettings && \"is-showing-settings\"} ${theme}`}>\r\n                {view}\r\n                {(showSettings || (showSettings === \"\")) && <UserSettings user={new User(user)} />}\r\n                <div className=\"screen\">\r\n                    <nav className=\"navigate\">\r\n                        <div style={{ marginTop: 10, marginBottom: 3 }} className={`server-block ${!server && \"clicked\"}`}>\r\n                            <div title=\"Home\" className=\"server\">\r\n                                <div onClick={homeClick} className={`home-button server-icon ${!server && \"isclicked\"}`}><HomeIcon /></div>\r\n                            </div>\r\n                            <div className=\"server-marker\" />\r\n                        </div>\r\n                        {notifications.map((n, i) => {\r\n                            const u = new User(n.user)\r\n                            if (notifications.findIndex(not => not.user._id === u.id) !== i) return null\r\n                            const dm = () => {\r\n                                setServer()\r\n                                setScreen(<Home onJoin={server => create(user, server)} update={update} dm={{ user: u }} user={user} />)\r\n                            }\r\n                            return (\r\n                                <div key={u.id} className=\"server-block\">\r\n                                    <div className={`server nt ${!n.saved && \"nta\"}`}>\r\n                                        <img onClick={dm} width=\"48\" height=\"48\" alt=\"icon\" src={u.displayAvatarURL(90)} className=\"server-icon\" />\r\n                                        <div className=\"notification\">{notifications.filter(not => not.user._id === u.id).length}</div>\r\n                                    </div>\r\n                                    <div className=\"server-marker\" />\r\n                                </div>\r\n                            )\r\n                        })}\r\n                        <div className=\"border-bottom\" />\r\n                        <Server.LoadServers index={index()} me={user} servers={servers} click={click} isHome={!server} />\r\n                        <Add user={user} onCreate={create} view={setView} />\r\n                    </nav>\r\n                    {screen}\r\n                </div>\r\n            </div>\r\n        </ScreenContext.Provider>\r\n    )\r\n}\r\n\r\nexport default Message","import { useState, useRef } from \"react\"\r\nimport \"./index.css\"\r\nimport Login from \"../login\"\r\nimport { link } from \"../../config.json\"\r\nimport Message from \"../message\"\r\n\r\nfunction Signup({ update }) {\r\n    const [animation, shrink] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n    const username = useRef()\r\n    const password = useRef()\r\n    const email = useRef()\r\n    const confirmPassword = useRef()\r\n    const login = () => {\r\n        shrink(\"shrink-me\")\r\n        setTimeout(() => update(<Login update={update} />), 200)\r\n    }\r\n    const createAccount = (e) => {\r\n        e.preventDefault()\r\n        if (password.current.value !== confirmPassword.current.value) return setError(\"Passwords don't match\")\r\n        fetch(`${link}createuser`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                username: username.current.value,\r\n                email: email.current.value,\r\n                password: password.current.value\r\n            })\r\n        })\r\n            .then(res => res.json())\r\n            .catch(err => {\r\n                console.log(err)\r\n                setError(\"Error\")\r\n            })\r\n            .then(async result => {\r\n                if (result.error) return setError(result.error)\r\n                const user = await fetch(`${link}user?password=${result.password}&email=${result.email}`).then(res => res.json())\r\n                sessionStorage.setItem(\"user\", JSON.stringify(user))\r\n                update(<Message user={user} />)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={`login signup ${animation}`}>\r\n            <h2 className=\"login-text signup-text\">Create an account</h2>\r\n            <form name=\"sign-up\">\r\n                <input autoComplete=\"off\" ref={username} className=\"login-input username\" placeholder=\"Username\" />\r\n                <input autoComplete=\"email\" ref={email} className=\"login-input signup-email\" placeholder=\"Email\" />\r\n                <input autoComplete=\"off\" ref={password} className=\"login-input signup-password\" type=\"password\" placeholder=\"Password\" />\r\n                <input autoComplete=\"off\" type=\"password\" ref={confirmPassword} className=\"login-input confirm\" placeholder=\"Confirm password\" />\r\n                <p className=\"no-account\">Already have an account? <span onClick={login}>login</span></p>\r\n                <button onClick={createAccount} className=\"button-login sign-up\">Create an account</button>\r\n            </form>\r\n            <p className=\"error-message\">{error}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup","import { useRef, useState } from \"react\"\r\nimport \"./index.css\"\r\nimport Signup from \"../signup\"\r\nimport { link } from \"../../config.json\"\r\nimport Message from \"../message\"\r\n\r\nfunction Login({ update }) {\r\n    const [animation, expand] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n    const signUp = () => {\r\n        expand(\"expand-me\")\r\n        setTimeout(() => update(<Signup update={update} />), 200)\r\n    }\r\n    const password = useRef()\r\n    const email = useRef()\r\n\r\n    const login = (e) => {\r\n        e.preventDefault()\r\n        if (!password.current.value || !email.current.value) return\r\n        expand(\"waiting\")\r\n        fetch(`${link}user?password=${password.current.value}&email=${email.current.value}`).then(res => res.json())\r\n            .then(user => {\r\n                if (user.error) return setError(user.error)\r\n                expand(\"expand-all\")\r\n                setTimeout(() => update(<Message user={user} update={update} />), 300)\r\n            })\r\n            .catch(err => {\r\n                expand(\"\")\r\n                setError(err.toString())\r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <div className={`login ${animation}`}>\r\n            <h2 className=\"login-text\">Login to continue</h2>\r\n            <form name=\"login\">\r\n                <input id=\"email\" ref={email} className=\"login-input email\" required autoComplete=\"on\" type=\"email\" placeholder=\"Email\" />\r\n                <input id=\"password\" ref={password} autoComplete=\"on\" required className=\"login-input password\" type=\"password\" placeholder=\"Password\" />\r\n                <p className=\"no-account\">Don't have an account? <span onClick={signUp}>create one</span></p>\r\n                <button type=\"submit\" onClick={login} className=\"button-login sign-up\">Login</button>\r\n            </form>\r\n            <p className=\"error-message\">{error}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import { useState, createContext } from \"react\"\r\nimport Login from \"./login/index.jsx\"\r\nimport \"./index.css\"\r\n\r\nexport const Update = createContext()\r\n\r\nfunction App() {\r\n    const [state, setState] = useState(<Initial />)\r\n    function Initial() {\r\n        return <Login update={setState} />\r\n    }\r\n\r\n    return (\r\n        <Update.Provider value={setState}>\r\n            <div className=\"main\">\r\n                <a className=\"github-link\" href=\"https://github.com/uwu404/discord-clone-client\">view source code</a>\r\n                {state}\r\n            </div>\r\n        </Update.Provider>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./app\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}